(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){e.exports=n(210)},114:function(e,t,n){},207:function(e,t){},210:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),i=n(17),s=n(16),c=n(15),u={auth:{isLoading:!0},socket:null,modals:{},errors:[],lists:{keyOrder:[],keyHash:{}},tasks:{activeTasks:[],completedTasks:[],keyHash:{}},visibility:"active"},l="LOADING_USER_COMPLETE",p="GET_USER_SUCCESS",d="ADD_SOCKET",f="OPEN_MODAL",h="REORDER_LIST",m="GET_LIST_SUCCESS",b="ADD_LIST_SUCCESS",v="UPDATE_LIST_SUCCESS",k="DELETE_LIST_SUCCESS",y="GET_TASK_SUCCESS",O="ADD_TASK_SUCCESS",E="TOGGLE_TASK_SUCCESS",g="CLEAR_TASKS_SUCCESS",j="UPDATE_VISIBILITY";var C=n(101),w=function(e){var t=e.sort(function(e,t){return e.order-t.order}).map(function(e){return e.id}),n={};return e.forEach(function(e){return n[e.id]=e}),{keyOrder:t,keyHash:n}},T=function(e,t){var n=Object(c.a)({},e);return n.keyOrder.push(t.id),n.keyHash[t.id]=t,n},S=function(e){var t=e.filter(function(e){return!e.isCompleted}).sort(function(e,t){return e.order-t.order}).map(function(e){return e.id}),n=e.filter(function(e){return e.isCompleted}).sort(function(e,t){return e.order-t.order}).map(function(e){return e.id}),a={};return e.forEach(function(e){return a[e.id]=e}),{activeTasks:t,completedTasks:n,keyHash:a}},L=function(e,t){var n=Object(c.a)({},e);return n.activeTasks=[].concat(Object(C.a)(n.activeTasks),[t.id]),n.keyHash[t.id]=t,n},A=function(e,t){var n=Object.values(e.keyHash).map(function(e){return e.id===t.id?t:e});return S(n)};var N=n(29);var M=n(28),x=Object(s.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.auth,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return{isLoading:!1};case p:return Object(c.a)({},t.data,{isLoading:!1});default:return e}},sidebar:M.reducer,modals:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.lists;var e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return e={},Object(N.a)(e,t.payload.modalName,!0),Object(N.a)(e,"data",t.payload.data),e;default:return{}}},lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.lists,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case k:case m:return w(t.data);case b:return T(e,t.data);case h:return Object(c.a)({},e,{keyOrder:t.data});default:return e}},socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.socket,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return t.data;default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.tasks,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:case y:return S(t.data);case O:return L(e,t.data);case E:return A(e,t.data);default:return e}},visibility:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.visibility,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.visibility;default:return e}}}),I=n(89),D=n(5),U=(n(114),n(7)),_=n(8),R=n(10),P=n(9),H=n(11),F=n(24),J=n(3),B=n.n(J),K=n(6),G=function(){return fetch("/auth/currentUserAndList").then(function(e){if(e&&e.ok)return e.json();throw new Error("Could not retrieve user.")})},V=n(90),z=n.n(V),W=function(){return r.a.createElement("div",{className:"loading--div-container"},r.a.createElement("img",{className:"loading--img-loading",src:z.a,alt:"Loading..."}))},q=n(91),Y=n.n(q),Z=function(){return r.a.createElement("div",{className:"login--div-full"},r.a.createElement("div",{className:"login--div-container"},r.a.createElement("img",{className:"login--img-logo",src:Y.a,alt:"Beans"}),r.a.createElement("span",{className:"login--span-title"},"Azuki"),r.a.createElement("span",{className:"login--span-intro"},"Login With"),r.a.createElement("a",{className:"login--a-provider",href:"/auth/google"},r.a.createElement("i",{className:"fab fa-google"})," ",r.a.createElement("span",{style:{color:"#4285F4"}},"G"),r.a.createElement("span",{style:{color:"#DB4437"}},"o"),r.a.createElement("span",{style:{color:"#F4B400"}},"o"),r.a.createElement("span",{style:{color:"#4285F4"}},"g"),r.a.createElement("span",{style:{color:"#0F9D58"}},"l"),r.a.createElement("span",{style:{color:"#DB4437"}},"e"))))},Q=function(e){return r.a.createElement("div",{className:""},"NOTFOUND")},X=(n(117),n(14)),$=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).toggleMenu=function(){n.props.dispatch(Object(M.action)(!n.props.sidebar.isOpen))},n}return Object(H.a)(t,e),Object(_.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return console.log("Header Rendered"),r.a.createElement("div",{className:"header--div-container"},r.a.createElement("div",{className:"header--div-left"},r.a.createElement("i",{className:"header--i-burger fa fa-bars",onClick:this.toggleMenu})),r.a.createElement("div",{className:"header--div-mid"},r.a.createElement(i.b,{to:"/"},r.a.createElement("h1",{className:"header--h1-title"},"A Z U K I"))),r.a.createElement("div",{className:"header--div-right"},r.a.createElement("img",{className:"header--img-profile",src:this.props.auth.img,alt:"profile"}),r.a.createElement("div",{className:"header--profile-name"}," ",this.props.auth.name.split(" ")[0]," "),r.a.createElement("a",{href:"/auth/logout"},"Logout")))}}]),t}(a.Component),ee=Object(D.connect)(function(e){return{dispatch:e.dispatch,auth:e.auth,sidebar:e.sidebar}})($),te=n(93),ne=function(e){return r.a.createElement("div",{className:"sidebar--div-addListContainer"},r.a.createElement("button",{onClick:function(){return e.toggleModal()}},"Add New List"))},ae=n(23),re=function(e){return r.a.createElement("div",{className:e.location===e.item.id?"list--div-container-selected":"list--div-container"},r.a.createElement(i.b,{to:"/list/".concat(e.item.id)},r.a.createElement("span",{className:"list--span-name"},e.item.name)),r.a.createElement("div",{className:"list--div-buttonContainer"},r.a.createElement("button",{className:"fas fa-edit",onClick:function(){return e.onEdit()}}),r.a.createElement("button",{className:"fas fa-trash",onClick:function(){return e.onDelete()}})))},oe=function(e,t){return function(){var n=Object(K.a)(B.a.mark(function n(a){return B.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a({type:f,payload:{modalName:e,data:t}});case 1:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},ie=function(){return function(){var e=Object(K.a)(B.a.mark(function e(t){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLOSE_MODAL"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},se=function(e){return fetch("/api/list/createList",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e})}).then(function(e){if(e.ok){var t=e.json();return console.log(t),t}})},ce=function(e,t){return fetch("/api/list/reorderList",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return t&&t.emit("updating","list"),e.ok?e.json():void 0})},ue=function(e){return fetch("/api/list/".concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e})}).then(function(e){return e.ok?e.json():void 0})},le=function(e,t){return fetch("/api/list/updateListFields",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e,name:t})}).then(function(e){return e.ok?e.json():void 0})},pe=function(e){return function(){var t=Object(K.a)(B.a.mark(function t(n){return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:j,visibility:e});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},de=n(102),fe=function(e,t,n){var a=e.splice(t,1),r=Object(de.a)(a,1)[0];return e.splice(n,0,r),e},he=n(43),me=n.n(he),be=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).state={location:null},n.updateListsOrder=function(e){if(e.destination){var t=fe(n.props.lists.keyOrder,e.source.index,e.destination.index);n.props.reorderList(t),n._reorderList(t)}},n._reorderList=me()(function(e){ce(e,n.props.socket)},2e3),n.deleteList=function(e){n.props.openModal("deleteListModal",e)},n.editList=function(e){n.props.openModal("editListModal",e)},n}return Object(H.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.socket&&this.props.socket.on("list",function(){return e.props.getList()})}},{key:"componentWillUnmount",value:function(){this.props.socket&&this.props.socket.off("list")}},{key:"componentDidUpdate",value:function(){var e=window.location.href.split("/").pop();this.state.location!==e&&this.setState({location:e})}},{key:"render",value:function(){var e=this;return console.log("DraggableList rendered"),r.a.createElement("div",null,r.a.createElement(ae.a,{onDragEnd:this.updateListsOrder},r.a.createElement(ae.c,{droppableId:"droppableList"},function(t){return r.a.createElement("div",Object.assign({},t.droppableProps,{ref:t.innerRef,className:"Droppable--div-listContainer"}),e.props.lists.keyOrder.map(function(t,n){return r.a.createElement(ae.b,{key:t,index:n,draggableId:t},function(n){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps),r.a.createElement(re,{location:e.state.location,item:e.props.lists.keyHash[t],onDelete:function(){return e.deleteList(e.props.lists.keyHash[t])},onEdit:function(){return e.editList(e.props.lists.keyHash[t])}}))})}),t.placeholder)})))}}]),t}(a.Component),ve={openModal:oe,reorderList:function(e){return function(){var t=Object(K.a)(B.a.mark(function t(n){return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:h,data:e});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},getList:function(){return function(){var e=Object(K.a)(B.a.mark(function e(t){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G().then(function(e){e&&t({type:m,data:e.list})}).catch(function(e){console.log(e)}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},updateVisibility:pe},ke=Object(D.connect)(function(e){return{lists:e.lists,socket:e.socket,sidebar:e.sidebar}},ve)(be),ye=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).toggleAddModal=function(){n.props.openModal("addModal")},n}return Object(H.a)(t,e),Object(_.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.sidebar.isOpen!==this.props.sidebar.isOpen}},{key:"render",value:function(){return console.log("Sidebar Rendered"),r.a.createElement("div",null,r.a.createElement(te.slide,{noOverlay:!0,isOpen:this.props.sidebar.isOpen,width:"300px",disableAutoFocus:!0,customCrossIcon:!1,customBurgerIcon:!1},r.a.createElement(ne,{toggleModal:this.toggleAddModal}),r.a.createElement(ke,null)))}}]),t}(a.Component),Oe={openModal:oe},Ee=Object(D.connect)(function(e){return{sidebar:e.sidebar}},Oe)(ye),ge=n(22),je=n.n(ge),Ce={overlay:{zIndex:"2000"},content:{top:"43%",bottom:"40%",left:"30%",right:"30%",borderRadius:"20px"}},we={top:"10%",bottom:"auto",left:"10%",right:"10%",borderRadius:"20px"},Te=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(){var e=Object(K.a)(B.a.mark(function e(t){var a;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(void 0===(a=n.refs.addListInput.value)||null===a||0===a.length||a.length>16)){e.next=4;break}return e.abrupt("return",X.b.error("Must be 1-16 character long."));case 4:return e.next=6,n.props.addNewList(a,n.props.socket);case 6:X.b.success("".concat(a," has been added.")),n.props.closeModal();case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(H.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this;return console.log("AddModal rendered"),r.a.createElement(je.a,{isOpen:this.props.isOpen,onRequestClose:this.props.closeModal,shouldCloseOnOverlayClick:!0,style:window.screen.width>500?Ce:Object(c.a)({},Ce,{content:we})},r.a.createElement("form",{className:"AddListModal--div-container",onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("h1",null,"Enter the title of the new list:"),r.a.createElement("input",{type:"text",ref:"addListInput",autoFocus:!0}),r.a.createElement("div",{className:"AddListModal--div-buttonContainer"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.closeModal()}},"Cancel"),r.a.createElement("button",{type:"submit"},"Save"))))}}]),t}(a.PureComponent),Se={closeModal:ie,addNewList:function(e,t){return function(){var n=Object(K.a)(B.a.mark(function n(a){return B.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",se(e).then(function(e){e&&(a({type:b,data:e}),t&&t.emit("updating","list"))}).catch(function(e){console.log(e)}));case 1:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}},Le=Object(D.connect)(function(e){return{socket:e.socket}},Se)(Te),Ae={overlay:{zIndex:"2000"},content:{top:"43%",bottom:"40%",left:"30%",right:"30%",borderRadius:"20px"}},Ne={top:"43%",bottom:"auto",left:"10%",right:"10%",borderRadius:"20px"},Me=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).onDelete=function(e){X.b.info("".concat(e," has been deleted")),n.props.onDelete(),n.props.closeModal()},n}return Object(H.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(je.a,{isOpen:this.props.isOpen,onRequestClose:this.props.closeModal,shouldCloseOnOverlayClick:!0,style:window.screen.width>500?Ae:Object(c.a)({},Ae,{content:Ne})},r.a.createElement("div",{className:"deleteItem--div-container"},r.a.createElement("h1",null,"Are you sure you want to delete"),r.a.createElement("strong",null,this.props.data,"?"),r.a.createElement("div",{className:"deleteItem--div-button-container"},r.a.createElement("button",{onClick:function(){return e.onDelete(e.props.data)}},"Delete"),r.a.createElement("button",{onClick:this.props.closeModal},"Cancel"))))}}]),t}(a.PureComponent),xe={closeModal:ie},Ie=Object(D.connect)(null,xe)(Me),De={overlay:{zIndex:"2000"},content:{top:"43%",bottom:"40%",left:"30%",right:"30%",borderRadius:"20px"}},Ue={top:"10%",bottom:"auto",left:"10%",right:"10%",borderRadius:"20px"},_e=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(){var e=Object(K.a)(B.a.mark(function e(t){var a;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.refs.editListInput.value,n.props.data!==a){e.next=4;break}return e.abrupt("return",n.props.closeModal());case 4:if(!(void 0===a||null===a||0===a.length||a.length>16)){e.next=6;break}return e.abrupt("return",X.b.error("Must be 1-16 character long."));case 6:return e.next=8,n.props.onEdit(a);case 8:X.b.success("".concat(n.props.data," has been renamed to ").concat(a,".")),n.props.closeModal();case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(H.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this;return console.log("EditListModal rendered"),r.a.createElement(je.a,{isOpen:this.props.isOpen,onRequestClose:this.props.closeModal,shouldCloseOnOverlayClick:!0,style:window.screen.width>500?De:Object(c.a)({},De,{content:Ue})},r.a.createElement("form",{className:"AddListModal--div-container",onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("h1",null,"Rename ",r.a.createElement("strong",null,this.props.data)," to?"),r.a.createElement("input",{type:"text",ref:"editListInput",autoFocus:!0,defaultValue:this.props.data}),r.a.createElement("div",{className:"AddListModal--div-buttonContainer"},r.a.createElement("button",{type:"submit"},"Save"),r.a.createElement("button",{type:"button",onClick:function(){return e.props.closeModal()}},"Cancel"))))}}]),t}(a.PureComponent),Re={closeModal:ie},Pe=Object(D.connect)(null,Re)(_e),He=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).closeModal=function(){n.props.closeModal()},n}return Object(H.a)(t,e),Object(_.a)(t,[{key:"shouldComponentUpdate",value:function(e){return Object.keys(e.modals).length!==Object.keys(this.props.modals).length}},{key:"render",value:function(){var e=this;return console.log("Modals Rendered"),this.props.modals.addModal?r.a.createElement(Le,{isOpen:!0,closeModal:this.closeModal}):this.props.modals.deleteListModal?r.a.createElement(Ie,{isOpen:!0,closeModal:this.closeModal,data:this.props.modals.data.name,onDelete:function(){return e.props.deleteList(e.props.modals.data.id,e.props.socket)}}):this.props.modals.editListModal?r.a.createElement(Pe,{isOpen:!0,closeModal:this.closeModal,data:this.props.modals.data.name,onEdit:function(t){return e.props.updateList(e.props.modals.data.id,t,e.props.socket)}}):r.a.createElement(r.a.Fragment,null)}}]),t}(a.Component),Fe={closeModal:ie,deleteList:function(e,t){return function(){var n=Object(K.a)(B.a.mark(function n(a){return B.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",ue(e).then(function(e){e&&(a({type:k,data:e}),t&&t.emit("updating","list"))}).catch(function(e){console.log(e)}));case 1:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},updateList:function(e,t,n){return function(){var a=Object(K.a)(B.a.mark(function a(r){return B.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",le(e,t).then(function(e){e&&(r({type:v,data:e}),n&&n.emit("updating","list"))}).catch(function(e){console.log(e)}));case 1:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}},Je=Object(D.connect)(function(e){return{modals:e.modals,lists:e.lists,socket:e.socket}},Fe)(He),Be=function(e){return r.a.createElement("div",{className:"titlebar--div-container"},r.a.createElement("div",{className:"titlebar--div-buttongroup"},r.a.createElement("button",{type:"button",className:"active"===e.visibility?"titlebar--button-selected":"titlebar--button",onClick:function(){return e.onUpdate("active")}},"Active"),r.a.createElement("button",{type:"button",className:"completed"===e.visibility?"titlebar--button-selected":"titlebar--button",onClick:function(){return e.onUpdate("completed")}},"Completed")))},Ke=function(e){return fetch("/api/tasks/".concat(e)).then(function(){var e=Object(K.a)(B.a.mark(function e(t){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=4;break}return e.abrupt("return",t.json());case 4:throw new Error("An Error occured with the API");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},Ge=function(e,t){return fetch("/api/tasks/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({listId:e,name:t})}).then(function(e){if(e.ok)return e.json();throw new Error("An Error occured with the API")})},Ve=function(e,t){return fetch("/api/tasks/toggle",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({taskId:e,isCompleted:t})}).then(function(e){if(e.ok)return e.json();throw new Error("An Error occured with the API")})},ze=function(e,t){return fetch("/api/tasks/reorderTasks",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({tasks:e})}).then(function(e){return t&&t.emit("updating","tasks"),e.ok?e.json():void 0})},We=n(99),qe=n.n(We),Ye=function(e){return"active"===e.visibility?r.a.createElement("div",{className:"TaskAdd--div-container"},r.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("input",{type:"text",ref:e.inputRef,placeholder:"Add a new task here"}))):r.a.createElement("div",{className:"TaskAdd--div-container-completed"},r.a.createElement("button",{onClick:function(){return e.onClear()}},"Clear Completed"))},Ze=function(e){function t(){return Object(U.a)(this,t),Object(R.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(_.a)(t,[{key:"toggleTasks",value:function(){this.props.toggleTask(this.props.item.id,!this.props.item.isCompleted,this.props.socket)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Task--div-container"},r.a.createElement("input",{type:"checkbox",checked:this.props.item.isCompleted,onChange:function(){return e.toggleTasks()}}),r.a.createElement("span",null,this.props.item.name),r.a.createElement(i.b,{to:"/",className:"fas fa-edit Task--div-editLink"}))}}]),t}(a.Component),Qe={toggleTask:function(e,t,n){return function(){var a=Object(K.a)(B.a.mark(function a(r){return B.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ve(e,t).then(function(e){e&&(r({type:E,data:e}),n&&n.emit("updating","tasks"))});case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}},Xe=Object(D.connect)(function(e){return{socket:e.socket}},Qe)(Ze),$e=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).state={listId:""},n.updateTasksOrder=function(e){if(e.destination){var t=fe(n.visibleTasks(),e.source.index,e.destination.index);n.props.reorderTasks(t,n.props.visibility),n._reorderTask(t)}},n._reorderTask=me()(function(e){ze(e,n.props.socket)},2e3),n.visibleTasks=function(){return"active"===n.props.visibility?n.props.tasks.activeTasks:n.props.tasks.completedTasks},n.addNewTask=function(e){e.preventDefault();var t=n.newTask.value;return""===t?X.b.warn("Nothing is entered. Please try again."):t.length>255?X.b.warn("Sorry, please don't type in a paragraph. Max 255 characters."):(X.b.success("".concat(t," has been added successfully.")),n.props.addTask(n.props.listId,t,n.props.socket),void(n.newTask.value=""))},n}return Object(H.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getTasks(this.props.listId),this.props.socket&&this.props.socket.on("tasks",function(){return e.props.getTasks(e.props.listId)})}},{key:"componentWillUnmount",value:function(){this.props.socket&&this.props.socket.off("tasks")}},{key:"shouldComponentUpdate",value:function(e){return!qe()(e.tasks,this.props.tasks)||this.props.visibility!==e.visibility||e.listId!==this.props.listId}},{key:"componentDidUpdate",value:function(){this.state.listId!==this.props.listId&&(this.props.getTasks(this.props.listId),this.setState({listId:this.props.listId}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ae.a,{onDragEnd:this.updateTasksOrder},r.a.createElement(ae.c,{droppableId:"droppableTasks"},function(t){return r.a.createElement("div",Object.assign({},t.droppableProps,{ref:t.innerRef,className:"Droppable--div-tasksContainer"}),r.a.createElement(Ye,{onClear:function(){return e.props.clearCompletedTasks(e.props.listId,e.props.socket)},onSubmit:e.addNewTask,inputRef:function(t){return e.newTask=t},visibility:e.props.visibility}),e.visibleTasks().map(function(t,n){return r.a.createElement(ae.b,{key:t,index:n,draggableId:t},function(n){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps),r.a.createElement(Xe,{item:e.props.tasks.keyHash[t]}))})}),t.placeholder)})))}}]),t}(a.Component),et={getTasks:function(e){return function(){var t=Object(K.a)(B.a.mark(function t(n){return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ke(e).then(function(e){e&&n({type:y,data:e})});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},addTask:function(e,t,n){return function(){var a=Object(K.a)(B.a.mark(function a(r){return B.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ge(e,t).then(function(e){e&&(r({type:O,data:e}),n&&n.emit("updating","tasks"))});case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},clearCompletedTasks:function(e,t){return function(){var n=Object(K.a)(B.a.mark(function n(a){return B.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(r=e,fetch("/api/list/clearCompletedTasks",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({ListId:r})}).then(function(e){return e.ok?e.json():void 0})).then(function(e){e&&(a({type:g,data:e}),t&&t.emit("updating","tasks"))}));case 1:case"end":return n.stop()}var r},n)}));return function(e){return n.apply(this,arguments)}}()},reorderTasks:function(e,t){return function(){var n=Object(K.a)(B.a.mark(function n(a){return B.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a("active"===t?{type:"UPDATE_ACTIVE_TASK_ORDER",data:e}:{type:"UPDATE_COMPLETED_TASK_ORDER",data:e});case 1:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}},tt=Object(D.connect)(function(e){return{visibility:e.visibility,tasks:e.tasks,socket:e.socket}},et)($e),nt=function(e){function t(){return Object(U.a)(this,t),Object(R.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.toggleMenu(!1)}},{key:"shouldComponentUpdate",value:function(e){return!e.lists.keyHash[e.match.params.id]||e.match.params.id!==this.props.match.params.id||e.visibility!==this.props.visibility}},{key:"componentDidUpdate",value:function(){this.props.toggleMenu(!1)}},{key:"render",value:function(){var e=this;return this.props.lists.keyHash[this.props.match.params.id]?r.a.createElement("div",{className:"task--div-full-container"},r.a.createElement(Be,{name:this.props.lists.keyHash[this.props.match.params.id].name,visibility:this.props.visibility,onUpdate:function(t){return e.props.updateVisibility(t)}}),r.a.createElement(tt,{listId:this.props.match.params.id})):r.a.createElement(F.a,{to:"/NotFound"})}}]),t}(a.Component),at={updateVisibility:pe,toggleMenu:M.action},rt=Object(D.connect)(function(e){return{visibility:e.visibility,lists:e.lists}},at)(nt),ot=function(e){function t(){return Object(U.a)(this,t),Object(R.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return console.log("Main router Rendered"),r.a.createElement(F.d,null,r.a.createElement(F.b,{exact:!0,path:"/",render:function(){return r.a.createElement("div",null,"MAIN")}}),r.a.createElement(F.b,{path:"/list/:id",component:rt}),r.a.createElement(F.b,{component:Q}))}}]),t}(a.PureComponent);je.a.setAppElement("#root");var it,st=function(e){function t(){return Object(U.a)(this,t),Object(R.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return console.log("App Rendered"),r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,null),r.a.createElement(ee,null),r.a.createElement("div",{id:"outer-container"},r.a.createElement(Ee,null),r.a.createElement(ot,null)),r.a.createElement(X.a,{autoClose:2e3,hideProgressBar:!0}))}}]),t}(a.Component),ct=Object(D.connect)(function(e){return{auth:e.auth}},{})(st),ut=n(100),lt=n.n(ut),pt=function(e){function t(){return Object(U.a)(this,t),Object(R.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(_.a)(t,[{key:"componentWillMount",value:function(){this.props.getUserAndLists()}},{key:"shouldComponentUpdate",value:function(e){return e.auth.isLoading!==this.props.auth.isLoading}},{key:"render",value:function(){return this.props.auth.isLoading?(console.log("Loading Screen"),r.a.createElement(W,null)):!this.props.auth.isLoading&&this.props.auth.id?(console.log("Entry Rendered"),this.props.addSocketToApp(function(e){var t=lt()();return t.on("connect",function(){return t.emit("join","".concat(e))}),t}(this.props.auth.id)),r.a.createElement(ct,null)):this.props.auth.isLoading||this.props.auth.id?void 0:r.a.createElement(F.d,null,r.a.createElement(F.b,{exact:!0,path:"/",component:Z}),r.a.createElement(F.b,{component:Q}))}}]),t}(a.Component),dt={getUserAndLists:function(){return function(){var e=Object(K.a)(B.a.mark(function e(t){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G().then(function(e){e&&t({type:m,data:e.lists}),delete e.lists,t({type:p,data:e})}).catch(function(){t({type:l})}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},addSocketToApp:function(e){return function(){var t=Object(K.a)(B.a.mark(function t(n){return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:d,data:e});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},ft=Object(D.connect)(function(e){return{auth:e.auth}},dt)(pt),ht=Object(s.e)(x,it,Object(s.a)(I.a));Object(o.render)(r.a.createElement(D.Provider,{store:ht},r.a.createElement(i.a,null,r.a.createElement(ft,null))),document.getElementById("root"))},90:function(e,t,n){e.exports=n.p+"static/media/loading.ec9b161c.gif"},91:function(e,t,n){e.exports=n.p+"static/media/bean.2ff32ac4.png"}},[[103,1,2]]]);
//# sourceMappingURL=main.c5e1ea09.chunk.js.map