(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(19),c=n(20),i=n(14),s={auth:{id:!1},list:[],todos:{}},u="ADD_LIST_SUCCESS",d="GET_USER_SUCCESS",p="GET_LIST_SUCCESS",l="DELETE_LIST_SUCCESS",f="GET_TODOS_SUCCESS",h="GET_TODOS_FAILED",m="UPDATE_TODO_SUCCESS",b="ADD_TODO_SUCCESS",E="DELETE_TODO_SUCCESS";var v=n(70);var y=n(24),O=n(23);var g,j=n(35),L=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.auth,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return t.data;default:return e}},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.list,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.data.sort(function(e,t){return e.order-t.order});case u:return[].concat(Object(v.a)(e),[t.data]);case l:return t.data;default:return e}},todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.todos,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.data;case h:return{error:t.error};case m:case b:return Object(O.a)({},e,Object(y.a)({},t.data.id,t.data));case E:var n=Object(O.a)({},e);return delete n[t.data],n;default:return e}},listMenu:j.reducer}),w=n(62),A=n(5),C=(n(83),n(9)),_=n(10),T=n(12),N=n(11),k=n(13),I=n(21),S=n(4),x=n.n(S),P=n(6),D=n(36),R=n.n(D),U=function(e){return a.a.createElement("div",{className:"login-body"},a.a.createElement("div",{className:"login-container "},a.a.createElement("img",{className:"login-logo",src:R.a,alt:"Beans"}),"Login With",a.a.createElement("a",{className:"login-button-link",href:"/auth/google"},"Google")))},B=function(){return a.a.createElement("div",{className:"not-found--div-container"},"404 NOT FOUND")},G=function(e){function t(){var e,n;Object(C.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(T.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(a)))).openMenu=function(){n.props.dispatch(Object(j.action)(!n.props.listMenu.isOpen))},n}return Object(k.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"header--div-container"},a.a.createElement("i",{className:"fa fa-bars",onClick:this.openMenu}),a.a.createElement(c.b,{to:"/"},a.a.createElement("h1",{className:"header--h1-title"},a.a.createElement("img",{src:R.a,alt:"bean brand"})," A z u k i")),a.a.createElement("div",{className:"header--div-menu"},a.a.createElement("img",{className:"name",src:this.props.auth.img,alt:"profile"}),a.a.createElement("div",{className:"profile-name"},this.props.auth.name.split(" ")[0]),a.a.createElement("a",{href:"/auth/logout"},"Logout")))}}]),t}(r.Component),M=Object(A.connect)(function(e){return{dispatch:e.dispatch,auth:e.auth,listMenu:e.listMenu}})(G),J=n(15),F=n(37),W=n.n(F),z=n(64),H=n(40),Z=n(71),q=function(e,t,n){var r=Array.from(e),a=r.splice(t,1),o=Object(Z.a)(a,1)[0];return r.splice(n,0,o),r.map(function(e,t){return Object(O.a)({},e,{order:t+1})})},K=function(e){return fetch("/api/list/reorderList",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.ok?e.json():void 0})},Q=function(e){return fetch("/api/list/createList",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e})}).then(function(e){return e.ok?e.json():void 0})},V=function(e){return fetch("/api/list/".concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e})}).then(function(e){return e.ok?e.json():void 0})},X=function(e,t){return fetch("/api/list/updateListFields",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e,name:t})}).then(function(e){return e.ok?e.json():void 0})},Y=function(e){function t(){var e,n;Object(C.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(T.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(o)))).state={lists:n.props.list},n.myInput=a.a.createRef(),n.validationList=function(e){return void 0===e||""===e||e.length>=16||!e.match(/[a-zA-Z0-9]/g)},n.addNewList=function(){var e=Object(P.a)(x.a.mark(function e(t){var r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(t),!n.validationList(n.myInput.current.value)){e.next=3;break}return e.abrupt("return",J.b.error("Error, unable to add new list, must be between 1 to 16 characters, please try again."));case 3:return r=n.myInput.current.value,e.next=6,n.props.addNewList(r);case 6:n.myInput.current.value="",n.setState({lists:n.props.list}),J.b.success("New category '".concat(r,"' added successfully"));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.editList=function(){var e=Object(P.a)(x.a.mark(function e(t){var r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=window.prompt("What is the new name of the list?"),!n.validationList(r)){e.next=3;break}return e.abrupt("return",J.b.error("Error, unable to edit list, must be between 1 to 16 characters, please try again."));case 3:return e.next=5,n.props.updateList(t.id,r);case 5:n.setState({lists:n.props.list.map(function(e){return e.id===t.id?(e.name=r,e):e})}),J.b.success("List has been updated to '".concat(r,"'."));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.deleteList=function(e){if(window.confirm("Are you sure to delete '".concat(e.name,"?'"))){var t=n.state.lists.filter(function(t){return t.id!==e.id});J.b.info("Deleted '".concat(e.name,"' successfully")),n.setState({lists:t}),n.props.deleteList(e.id)}},n._reorderList=W()(function(e){K(e)},2e3),n.onDragEnd=function(){var e=Object(P.a)(x.a.mark(function e(t){var r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=2;break}return e.abrupt("return");case 2:return r=q(n.state.lists,t.source.index,t.destination.index),e.next=5,n._reorderList(r);case 5:n.setState({lists:r});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(k.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(z.slide,{noOverlay:!0,isOpen:this.props.listMenu.isOpen,disableAutoFocus:!0,customCrossIcon:!1,customBurgerIcon:!1,pageWrapId:"page-wrap",outerContainerId:"outer-container"},a.a.createElement("div",{className:"menu--div-container"},a.a.createElement("div",{className:"menu--div-addList"},a.a.createElement("form",{onSubmit:function(t){return e.addNewList(t)}},a.a.createElement("input",{type:"text",ref:this.myInput}),a.a.createElement("button",{className:"fas fa-folder-plus"}))),a.a.createElement(H.a,{onDragEnd:this.onDragEnd},a.a.createElement(H.c,{droppableId:"droppableList"},function(t,n){return a.a.createElement("div",Object.assign({},t.droppableProps,{ref:t.innerRef,className:"menu--div-listContainer"}),e.state.lists.map(function(t,n){return a.a.createElement(H.b,{key:t.id,draggableId:t.id,index:n},function(n,r){return a.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{className:"menu--div-list"}),a.a.createElement("div",{className:"menu--div-list"},a.a.createElement(c.b,{to:"/dashboard/list/".concat(t.id)},t.name),a.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.a.createElement("button",{className:"far fa-edit",onClick:function(){return e.editList(t)}}),a.a.createElement("button",{className:"fas fa-trash",onClick:function(){return e.deleteList(t)}}))))})}),t.placeholder)}))))}}]),t}(r.Component),$={addNewList:function(e){return function(){var t=Object(P.a)(x.a.mark(function t(n){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"BEGIN_API_CALL"}),t.abrupt("return",Q(e).then(function(e){e&&n({type:u,data:e})}).catch(function(e){n({type:"API_CALL_ERROR"}),console.log(e)}));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},deleteList:function(e){return function(){var t=Object(P.a)(x.a.mark(function t(n){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"BEGIN_API_CALL"}),t.abrupt("return",V(e).then(function(e){e&&n({type:l,data:e})}).catch(function(e){n({type:"API_CALL_ERROR"}),console.log(e)}));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},updateList:function(e,t){return function(){var n=Object(P.a)(x.a.mark(function n(r){return x.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"BEGIN_API_CALL"}),n.abrupt("return",X(e,t).then(function(e){e&&r({type:"UPDATE_LIST_SUCCESS",data:e})}).catch(function(e){r({type:"API_CALL_ERROR"}),console.log(e)}));case 2:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}},ee=Object(A.connect)(function(e){return{list:e.list,listMenu:e.listMenu}},$)(Y),te=function(e){function t(){return Object(C.a)(this,t),Object(T.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"Todo--div-container"},a.a.createElement("input",{type:"checkbox",defaultChecked:this.props.isCompleted,ref:"".concat(this.props.id),onChange:function(){return e.props.toggleTodo(e.refs[e.props.id].checked)}}),a.a.createElement("span",{className:this.props.isCompleted?"todo--span-name completed":"todo--span-name"},this.props.name),a.a.createElement("div",{className:"todo--button-container"},a.a.createElement("button",{className:"far fa-edit deleteTodo-button",onClick:function(){console.log("Edit is not working atm")}}),a.a.createElement("button",{className:"fas fa-trash deleteTodo-button",onClick:function(){return e.props.deleteTodo()}})))}}]),t}(r.PureComponent),ne=function(e,t,n){return fetch("/api/todos/toggle",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({listId:e,todoId:t,isCompleted:n})}).then(function(e){if(e.ok)return e.json();throw new Error("An Error occured with the API")})},re=function(e,t){return fetch("/api/todos/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({listId:e,name:t})}).then(function(e){if(e.ok)return e.json();throw new Error("An Error occured with the API")})},ae=function(e){return fetch("/api/todos/",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e})}).then(function(e){if(e.ok)return e.json();throw new Error("An Error occured with the API")})},oe=function(e){function t(){var e,n;Object(C.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(T.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(a)))).addTodo=function(e){e.preventDefault();var t=n.refs.addtodo_input.value;if(t.length<1||void 0===t||t.length>150)return J.b.error("Must be between 1-150 character long");n.props.addTodo(n.props.match.params.id,t),n.refs.addtodo_input.value="",J.b.success("".concat(t," has been added."))},n.toggleTodo=function(e,t){n._toogleTodo(e,t)},n.deleteTodo=function(e){window.confirm("Are you sure?")&&n.props.deleteTodo(e)},n._toogleTodo=W()(function(e,t){n.props.toggleTodo(n.props.match.params.id,e,t)},300),n}return Object(k.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.getTodosByListId(this.props.match.params.id)}},{key:"render",value:function(){var e=this;return this.props.todos.error?a.a.createElement("h1",{style:{textAlign:"center"}},this.props.todos.error):this.props.todos.error?a.a.createElement("div",null,"Loading"):a.a.createElement("div",null,a.a.createElement("form",{className:"todos--div-addTodo",onSubmit:this.addTodo},a.a.createElement("input",{type:"text",name:"name",className:"todos--add-input",ref:"addtodo_input"}),a.a.createElement("button",{className:"todos--add-button"},"Add New")),a.a.createElement("div",{className:"todos--div-container"},Object.keys(this.props.todos).map(function(t){return a.a.createElement(te,{name:e.props.todos[t].name,id:e.props.todos[t].id,isCompleted:e.props.todos[t].isCompleted,toggleTodo:function(n){return e.toggleTodo(e.props.todos[t].id,n)},key:e.props.todos[t].id,deleteTodo:function(){return e.deleteTodo(t)}})})))}}]),t}(r.Component),ce={getTodosByListId:function(e){return function(){var t=Object(P.a)(x.a.mark(function t(n){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"BEGIN_API_CALL"}),t.abrupt("return",(r=e,fetch("/api/todos/".concat(r)).then(function(){var e=Object(P.a)(x.a.mark(function e(t){var n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=7;break}return n={},e.next=4,t.json().then(function(e){e.forEach(function(e){return n[e.id]=e})});case 4:return e.abrupt("return",n);case 7:throw new Error("An Error occured with the API");case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(){var e=Object(P.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&n({type:f,data:t});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){n({type:"API_CALL_ERROR"}),console.log(e),n({type:h,error:e.message})}));case 2:case"end":return t.stop()}var r},t)}));return function(e){return t.apply(this,arguments)}}()},toggleTodo:function(e,t,n){return function(){var r=Object(P.a)(x.a.mark(function r(a){return x.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:"BEGIN_API_CALL"}),r.abrupt("return",ne(e,t,n).then(function(e){e&&a({type:m,data:e})}).catch(function(e){a({type:"API_CALL_ERROR"}),console.log(e),a({type:h,error:e.message})}));case 2:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},addTodo:function(e,t){return function(){var n=Object(P.a)(x.a.mark(function n(r){return x.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"BEGIN_API_CALL"}),n.abrupt("return",re(e,t).then(function(e){e&&r({type:b,data:e})}).catch(function(e){r({type:"API_CALL_ERROR"}),console.log(e),r({type:h,error:e.message})}));case 2:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},deleteTodo:function(e){return function(){var t=Object(P.a)(x.a.mark(function t(n){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"BEGIN_API_CALL"}),t.abrupt("return",ae(e).then(function(){n({type:E,data:e})}).catch(function(e){n({type:"API_CALL_ERROR"}),console.log(e),n({type:"DELETE_TODO_FAILED",error:e.message})}));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},ie=Object(A.connect)(function(e){return{todos:e.todos}},ce)(oe),se=function(){return a.a.createElement("div",{className:"main--div-container",style:{textAlign:"center"}},"MAIN")},ue=function(e){function t(){return Object(C.a)(this,t),Object(T.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{id:"page-wrap"},a.a.createElement(I.d,null,a.a.createElement(I.b,{path:"/dashboard/list/:id",render:function(e){return a.a.createElement(ie,Object.assign({key:e.match.params.id},e))}}),a.a.createElement(I.b,{exact:!0,path:"/dashboard",component:se})))}}]),t}(r.Component),de=Object(A.connect)(function(e){return{auth:e.auth}})(ue),pe=(n(142),function(e){function t(){return Object(C.a)(this,t),Object(T.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(M,null),a.a.createElement("div",{id:"outer-container"},a.a.createElement(ee,null),a.a.createElement(de,null)),a.a.createElement(J.a,{autoClose:3e3,hideProgressBar:!0}))}}]),t}(r.Component)),le=Object(A.connect)(function(e){return{auth:e.auth}})(pe),fe=function(e){function t(){return Object(C.a)(this,t),Object(T.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(_.a)(t,[{key:"componentWillMount",value:function(){this.props.getUserAndLists()}},{key:"render",value:function(){return this.props.auth.id?a.a.createElement(I.d,null,a.a.createElement(I.b,{path:"/dashboard",component:le}),a.a.createElement(I.a,{exact:!0,from:"/",to:"/dashboard"}),a.a.createElement(I.b,{path:"/*",component:B})):a.a.createElement(I.d,null,a.a.createElement(I.b,{exact:!0,path:"/",component:U}))}}]),t}(r.Component),he={getUserAndLists:function(){return function(){var e=Object(P.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"BEGIN_API_CALL"}),e.abrupt("return",fetch("/auth/currentUserAndList").then(function(e){return e.ok?e.json():void 0}).then(function(e){e&&t({type:p,data:e.list}),delete e.list,t({type:d,data:e})}).catch(function(e){t({type:"API_CALL_ERROR"})}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},me=Object(A.connect)(function(e){return{auth:e.auth}},he)(fe),be=Object(i.e)(L,g,Object(i.a)(w.a));Object(o.render)(a.a.createElement(A.Provider,{store:be},a.a.createElement(c.a,null,a.a.createElement(me,null))),document.getElementById("root"))},36:function(e,t,n){e.exports=n.p+"static/media/bean.2ff32ac4.png"},72:function(e,t,n){e.exports=n(143)},83:function(e,t,n){}},[[72,1,2]]]);
//# sourceMappingURL=main.60fad774.chunk.js.map