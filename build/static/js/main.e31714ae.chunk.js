(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){e.exports=n(208)},112:function(e,t,n){},205:function(e,t){},208:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),c=n(21),i=n(14),s=n(15),l={auth:{isLoading:!0},socket:null,modals:{},errors:[],lists:{keyOrder:[],keyHash:{}},tasks:{isLoading:!0,keyOrder:[],keyHash:{}}},u="LOADING_USER_COMPLETE",d="GET_USER_SUCCESS",p="ADD_SOCKET",f="OPEN_MODAL",h="REORDER_LIST",m="GET_LIST_SUCCESS",b="ADD_LIST_SUCCESS",v="UPDATE_LIST_SUCCESS",O="DELETE_LIST_SUCCESS";var E=function(e){var t=e.sort(function(e,t){return e.order-t.order}).map(function(e){return e.id}),n={};return e.forEach(function(e){return n[e.id]=e}),{keyOrder:t,keyHash:n}},g=function(e,t){var n=Object(s.a)({},e);return n.keyOrder.push(t.id),n.keyHash[t.id]=t,n};var y=n(27);var j=n(42),k=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.auth,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{isLoading:!1};case d:return Object(s.a)({},t.data,{isLoading:!1});default:return e}},sidebar:j.reducer,modals:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.lists;var e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return e={},Object(y.a)(e,t.payload.modalName,!0),Object(y.a)(e,"data",t.payload.data),e;default:return{}}},lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.lists,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case O:case m:return E(t.data);case b:return g(e,t.data);case h:return Object(s.a)({},e,{keyOrder:t.data});default:return e}},socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.socket,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.data;default:return e}}}),L=n(88),C=n(5),w=(n(112),n(6)),M=n(7),N=n(9),S=n(8),A=n(10),x=n(23),D=n(4),T=n.n(D),R=n(11),I=function(){return fetch("/auth/currentUserAndList").then(function(e){if(e.ok)return e.json();throw new Error("Could not retrieve user.")})},U=n(89),_=n.n(U),P=function(){return r.a.createElement("div",{className:"loading--div-container"},r.a.createElement("img",{className:"loading--img-loading",src:_.a,alt:"Loading..."}))},F=n(90),H=n.n(F),B=function(){return r.a.createElement("div",{className:"login--div-full"},r.a.createElement("div",{className:"login--div-container"},r.a.createElement("img",{className:"login--img-logo",src:H.a,alt:"Beans"}),r.a.createElement("span",{className:"login--span-title"},"Azuki"),r.a.createElement("span",{className:"login--span-intro"},"Login With"),r.a.createElement("a",{className:"login--a-provider",href:"/auth/google"},r.a.createElement("i",{className:"fab fa-google"})," ",r.a.createElement("span",{style:{color:"#4285F4"}},"G"),r.a.createElement("span",{style:{color:"#DB4437"}},"o"),r.a.createElement("span",{style:{color:"#F4B400"}},"o"),r.a.createElement("span",{style:{color:"#4285F4"}},"g"),r.a.createElement("span",{style:{color:"#0F9D58"}},"l"),r.a.createElement("span",{style:{color:"#DB4437"}},"e"))))},J=function(e){return r.a.createElement("div",{className:""},"NOTFOUND")},z=(n(115),n(18)),G=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(N.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).toggleMenu=function(){n.props.dispatch(Object(j.action)(!n.props.sidebar.isOpen))},n}return Object(A.a)(t,e),Object(M.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return console.log("Header Rendered"),r.a.createElement("div",{className:"header--div-container"},r.a.createElement("div",{className:"header--div-left"},r.a.createElement("i",{className:"header--i-burger fa fa-bars",onClick:this.toggleMenu})),r.a.createElement("div",{className:"header--div-mid"},r.a.createElement(c.b,{to:"/"},r.a.createElement("h1",{className:"header--h1-title"},"A Z U K I"))),r.a.createElement("div",{className:"header--div-right"},r.a.createElement("img",{className:"header--img-profile",src:this.props.auth.img,alt:"profile"}),r.a.createElement("div",{className:"header--profile-name"}," ",this.props.auth.name.split(" ")[0]," "),r.a.createElement("a",{href:"/auth/logout"},"Logout")))}}]),t}(a.Component),q=Object(C.connect)(function(e){return{dispatch:e.dispatch,auth:e.auth,sidebar:e.sidebar}})(G),K=n(92),W=function(e){return r.a.createElement("div",{className:"sidebar--div-addListContainer"},r.a.createElement("button",{onClick:function(){return e.toggleModal()}},"Add New List"))},V=n(29),Z=function(e){return r.a.createElement("div",{className:"list--div-container"},r.a.createElement(c.b,{to:"/list/".concat(e.item.id)},r.a.createElement("span",{className:"list--span-name"},e.item.name)),r.a.createElement("div",{className:"list--div-buttonContainer"},r.a.createElement("button",{className:"fas fa-edit",onClick:function(){return e.onEdit()}}),r.a.createElement("button",{className:"fas fa-trash",onClick:function(){return e.onDelete()}})))},Q=function(e,t){return function(){var n=Object(R.a)(T.a.mark(function n(a){return T.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a({type:f,payload:{modalName:e,data:t}});case 1:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},X=function(){return function(){var e=Object(R.a)(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLOSE_MODAL"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Y=function(e){return fetch("/api/list/createList",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e})}).then(function(e){return e.ok?e.json():void 0})},$=function(e,t){return fetch("/api/list/reorderList",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return t&&t.emit("updating","list"),e.ok?e.json():void 0})},ee=function(e){return fetch("/api/list/".concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e})}).then(function(e){return e.ok?e.json():void 0})},te=function(e,t){return fetch("/api/list/updateListFields",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e,name:t})}).then(function(e){return e.ok?e.json():void 0})},ne=n(100),ae=function(e,t,n){var a=e.splice(t,1),r=Object(ne.a)(a,1)[0];return e.splice(n,0,r),e},re=n(93),oe=n.n(re),ce=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(N.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).updateListsOrder=function(e){if(e.destination){var t=ae(n.props.lists.keyOrder,e.source.index,e.destination.index);n.props.reorderList(t),n._reorderList(t)}},n._reorderList=oe()(function(e){$(e,n.props.socket)},2e3),n.deleteList=function(e){n.props.openModal("deleteListModal",e)},n.editList=function(e){console.log("edit list "+e.id),n.props.openModal("editListModal",e)},n}return Object(A.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.socket&&this.props.socket.on("list",function(){return e.props.getList()})}},{key:"shouldComponentUpdate",value:function(e){return e.lists!==this.props.lists}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(V.a,{onDragEnd:this.updateListsOrder},r.a.createElement(V.c,{droppableId:"droppableList"},function(t){return r.a.createElement("div",Object.assign({},t.droppableProps,{ref:t.innerRef,className:"Droppable--div-listContainer"}),e.props.lists.keyOrder.map(function(t,n){return r.a.createElement(V.b,{key:t,index:n,draggableId:t},function(n){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps),r.a.createElement(Z,{item:e.props.lists.keyHash[t],onDelete:function(){return e.deleteList(e.props.lists.keyHash[t])},onEdit:function(){return e.editList(e.props.lists.keyHash[t])}}))})}),t.placeholder)})))}}]),t}(a.Component),ie={openModal:Q,reorderList:function(e){return function(){var t=Object(R.a)(T.a.mark(function t(n){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:h,data:e});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},getList:function(){return function(){var e=Object(R.a)(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I().then(function(e){e&&t({type:m,data:e.list})}).catch(function(e){console.log(e)}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},se=Object(C.connect)(function(e){return{lists:e.lists,socket:e.socket}},ie)(ce),le=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(N.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).toggleAddModal=function(){n.props.openModal("addModal")},n}return Object(A.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return console.log("Sidebar Rendered"),r.a.createElement("div",null,r.a.createElement(K.slide,{noOverlay:!0,isOpen:this.props.sidebar.isOpen,width:"300px",disableAutoFocus:!0,customCrossIcon:!1,customBurgerIcon:!1},r.a.createElement(W,{toggleModal:this.toggleAddModal}),r.a.createElement(se,null)))}}]),t}(a.PureComponent),ue={openModal:Q},de=Object(C.connect)(function(e){return{sidebar:e.sidebar}},ue)(le),pe=n(22),fe=n.n(pe),he={overlay:{zIndex:"2000"},content:{top:"43%",bottom:"40%",left:"30%",right:"30%",borderRadius:"20px"}},me={top:"10%",bottom:"auto",left:"10%",right:"10%",borderRadius:"20px"},be=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(N.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(){var e=Object(R.a)(T.a.mark(function e(t){var a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(void 0===(a=n.refs.addListInput.value)||null===a||0===a.length||a.length>16)){e.next=4;break}return e.abrupt("return",z.b.error("Must be 1-16 character long."));case 4:return e.next=6,n.props.addNewList(a,n.props.socket);case 6:z.b.success("".concat(a," has been added.")),n.props.closeModal();case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(A.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this;return console.log("AddModal rendered"),r.a.createElement(fe.a,{isOpen:this.props.isOpen,onRequestClose:this.props.closeModal,shouldCloseOnOverlayClick:!0,style:window.screen.width>500?he:Object(s.a)({},he,{content:me})},r.a.createElement("form",{className:"AddListModal--div-container",onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("h1",null,"Enter the title of the new list:"),r.a.createElement("input",{type:"text",ref:"addListInput",autoFocus:!0}),r.a.createElement("div",{className:"AddListModal--div-buttonContainer"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.closeModal()}},"Cancel"),r.a.createElement("button",{type:"submit"},"Save"))))}}]),t}(a.PureComponent),ve={closeModal:X,addNewList:function(e,t){return function(){var n=Object(R.a)(T.a.mark(function n(a){return T.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Y(e).then(function(e){e&&(a({type:b,data:e}),t&&t.emit("updating","list"))}).catch(function(e){console.log(e)}));case 1:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}},Oe=Object(C.connect)(function(e){return{socket:e.socket}},ve)(be),Ee={overlay:{zIndex:"2000"},content:{top:"43%",bottom:"40%",left:"30%",right:"30%",borderRadius:"20px"}},ge={top:"43%",bottom:"auto",left:"10%",right:"10%",borderRadius:"20px"},ye=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(N.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).onDelete=function(e){z.b.info("".concat(e," has been deleted")),n.props.onDelete(),n.props.closeModal()},n}return Object(A.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(fe.a,{isOpen:this.props.isOpen,onRequestClose:this.props.closeModal,shouldCloseOnOverlayClick:!0,style:window.screen.width>500?Ee:Object(s.a)({},Ee,{content:ge})},r.a.createElement("div",{className:"deleteItem--div-container"},r.a.createElement("h1",null,"Are you sure you want to delete"),r.a.createElement("strong",null,this.props.data,"?"),r.a.createElement("div",{className:"deleteItem--div-button-container"},r.a.createElement("button",{onClick:function(){return e.onDelete(e.props.data)}},"Delete"),r.a.createElement("button",{onClick:this.props.closeModal},"Cancel"))))}}]),t}(a.PureComponent),je={closeModal:X},ke=Object(C.connect)(null,je)(ye),Le={overlay:{zIndex:"2000"},content:{top:"43%",bottom:"40%",left:"30%",right:"30%",borderRadius:"20px"}},Ce={top:"10%",bottom:"auto",left:"10%",right:"10%",borderRadius:"20px"},we=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(N.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(){var e=Object(R.a)(T.a.mark(function e(t){var a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.refs.editListInput.value,n.props.data!==a){e.next=4;break}return e.abrupt("return",n.props.closeModal());case 4:if(!(void 0===a||null===a||0===a.length||a.length>16)){e.next=6;break}return e.abrupt("return",z.b.error("Must be 1-16 character long."));case 6:return e.next=8,n.props.onEdit(a);case 8:z.b.success("".concat(n.props.data," has been renamed to ").concat(a,".")),n.props.closeModal();case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(A.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this;return console.log("EditListModal rendered"),r.a.createElement(fe.a,{isOpen:this.props.isOpen,onRequestClose:this.props.closeModal,shouldCloseOnOverlayClick:!0,style:window.screen.width>500?Le:Object(s.a)({},Le,{content:Ce})},r.a.createElement("form",{className:"AddListModal--div-container",onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("h1",null,"Rename ",r.a.createElement("strong",null,this.props.data)," to?"),r.a.createElement("input",{type:"text",ref:"editListInput",autoFocus:!0,defaultValue:this.props.data}),r.a.createElement("div",{className:"AddListModal--div-buttonContainer"},r.a.createElement("button",{type:"submit"},"Save"),r.a.createElement("button",{type:"button",onClick:function(){return e.props.closeModal()}},"Cancel"))))}}]),t}(a.PureComponent),Me={closeModal:X},Ne=Object(C.connect)(null,Me)(we),Se=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(N.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).closeModal=function(){n.props.closeModal()},n}return Object(A.a)(t,e),Object(M.a)(t,[{key:"shouldComponentUpdate",value:function(e){return Object.keys(e.modals).length!==Object.keys(this.props.modals).length}},{key:"render",value:function(){var e=this;return console.log("Modals Rendered"),this.props.modals.addModal?r.a.createElement(Oe,{isOpen:!0,closeModal:this.closeModal}):this.props.modals.deleteListModal?r.a.createElement(ke,{isOpen:!0,closeModal:this.closeModal,data:this.props.modals.data.name,onDelete:function(){return e.props.deleteList(e.props.modals.data.id,e.props.socket)}}):this.props.modals.editListModal?r.a.createElement(Ne,{isOpen:!0,closeModal:this.closeModal,data:this.props.modals.data.name,onEdit:function(t){return e.props.updateList(e.props.modals.data.id,t,e.props.socket)}}):r.a.createElement(r.a.Fragment,null)}}]),t}(a.Component),Ae={closeModal:X,deleteList:function(e,t){return function(){var n=Object(R.a)(T.a.mark(function n(a){return T.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",ee(e).then(function(e){e&&(a({type:O,data:e}),t&&t.emit("updating","list"))}).catch(function(e){console.log(e)}));case 1:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},updateList:function(e,t,n){return function(){var a=Object(R.a)(T.a.mark(function a(r){return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",te(e,t).then(function(e){e&&(r({type:v,data:e}),n&&n.emit("updating","list"))}).catch(function(e){console.log(e)}));case 1:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}},xe=Object(C.connect)(function(e){return{modals:e.modals,lists:e.lists,socket:e.socket}},Ae)(Se),De=function(e){function t(){return Object(w.a)(this,t),Object(N.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return console.log("Main Rendered"),r.a.createElement("div",null,"TEST")}}]),t}(a.Component),Te=Object(C.connect)(function(e){return{sidebar:e.sidebar}},{})(De);fe.a.setAppElement("#root");var Re,Ie=function(e){function t(){return Object(w.a)(this,t),Object(N.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return console.log("App Rendered"),r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,null),r.a.createElement(q,null),r.a.createElement("div",{id:"outer-container"},r.a.createElement(de,null),r.a.createElement(Te,null)),r.a.createElement(z.a,{autoClose:3e3,hideProgressBar:!0}))}}]),t}(a.Component),Ue=Object(C.connect)(function(e){return{auth:e.auth}},{})(Ie),_e=n(99),Pe=n.n(_e),Fe=function(e){function t(){return Object(w.a)(this,t),Object(N.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(M.a)(t,[{key:"componentWillMount",value:function(){this.props.getUserAndLists()}},{key:"shouldComponentUpdate",value:function(e){return e.auth.id!==this.props.auth.id}},{key:"render",value:function(){return console.log("Entry Rendered"),this.props.auth.isLoading?r.a.createElement(P,null):!this.props.auth.isLoading&&this.props.auth.id?(this.props.addSocketToApp(function(e){var t=Pe()();return t.on("connect",function(){return t.emit("join","".concat(e))}),t}(this.props.auth.id)),r.a.createElement(Ue,null)):this.props.auth.isLoading||this.props.auth.id?void 0:r.a.createElement(x.c,null,r.a.createElement(x.a,{exact:!0,path:"/",component:B}),r.a.createElement(x.a,{component:J}))}}]),t}(a.Component),He={getUserAndLists:function(){return function(){var e=Object(R.a)(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I().then(function(e){e&&t({type:m,data:e.list}),delete e.list,t({type:d,data:e})}).catch(function(){t({type:u})}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},addSocketToApp:function(e){return function(){var t=Object(R.a)(T.a.mark(function t(n){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:p,data:e});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},Be=Object(C.connect)(function(e){return{auth:e.auth}},He)(Fe),Je=Object(i.e)(k,Re,Object(i.a)(L.a));Object(o.render)(r.a.createElement(C.Provider,{store:Je},r.a.createElement(c.a,null,r.a.createElement(Be,null))),document.getElementById("root"))},89:function(e,t,n){e.exports=n.p+"static/media/loading.ec9b161c.gif"},90:function(e,t,n){e.exports=n.p+"static/media/bean.2ff32ac4.png"}},[[101,1,2]]]);
//# sourceMappingURL=main.e31714ae.chunk.js.map