(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(t,e,n){t.exports=n(210)},114:function(t,e,n){},207:function(t,e){},210:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),s=n(22),o=n(16),i=n(17),c=n(13),u={auth:{isLoading:!0},socket:null,modals:{},errors:[],lists:{keyOrder:[],keyHash:{}},tasks:{activeTasks:[],completedTasks:[],keyHash:{}},visibility:"active",apiStatus:{isLoading:!0}},p="BEGIN_API_CALL",l="END_API_CALL",d="LOADING_USER_COMPLETE",f="GET_USER_SUCCESS",h="ADD_SOCKET",m="OPEN_MODAL",b="REORDER_LIST",k="GET_LIST_SUCCESS",v="ADD_LIST_SUCCESS",y="UPDATE_LIST_SUCCESS",g="DELETE_LIST_SUCCESS",E="GET_TASK_SUCCESS",O="ADD_TASK_SUCCESS",j="TOGGLE_TASK_SUCCESS",w="CLEAR_TASKS_SUCCESS",S="ADD_SUBTASK_SUCCESS",C="DELETE_SUBTASK_SUCCESS",T="REORDER_SUBTASKS_SUCCESS",A="TOGGLE_SUBTASKS_SUCCESS",N="UPDATE_VISIBILITY";var x=n(101),L=function(t){var e=t.sort(function(t,e){return t.order-e.order}).map(function(t){return t.id}),n={};return t.forEach(function(t){return n[t.id]=t}),{keyOrder:e,keyHash:n}},I=function(t,e){var n=Object(c.a)({},t);return n.keyOrder.push(e.id),n.keyHash[e.id]=e,n},D=function(t){var e=t.filter(function(t){return!t.isCompleted}).sort(function(t,e){return t.order-e.order}).map(function(t){return t.id}),n=t.filter(function(t){return t.isCompleted}).sort(function(t,e){return t.order-e.order}).map(function(t){return t.id}),a={};return t.forEach(function(t){Array.isArray(t.subtasks)&&(t.subtasks=L(t.subtasks)),a[t.id]=t}),{activeTasks:e,completedTasks:n,keyHash:a}},M=function(t,e){var n=Object(c.a)({},t);n.activeTasks=[].concat(Object(x.a)(n.activeTasks),[e.id]);var a=e.subtasks?e.subtasks:[];return e.subtasks=L(a),n.keyHash[e.id]=e,n},_=function(t,e){var n={},a=e.subtasks.map(function(t){return t.id});e.subtasks.forEach(function(t){n[t.id]=t}),e.subtasks={keyOrder:a,keyHash:n};var r=Object.values(t.keyHash).map(function(t){return t.id===e.id?e:t});return D(r)},U=function(t,e){var n=Object(c.a)({},t);return n.keyHash[e.TaskId].subtasks.keyOrder.push(e.id),n.keyHash[e.TaskId].subtasks.keyHash[e.id]=e,n},P=function(t,e){var n=Object(c.a)({},t);return n.keyHash[e.taskId].subtasks.keyOrder=n.keyHash[e.taskId].subtasks.keyOrder.filter(function(t){return t!==e.id}),n},H=function(t,e,n){var a=Object(c.a)({},t);return a.keyHash[e].subtasks.keyOrder=n,a},R=function(t,e){var n=Object(c.a)({},t);return n.keyHash[e.taskId].subtasks.keyHash[e.id].isCompleted=e.isCompleted,n};var J=n(30);var V=n(29),B=Object(i.c)({auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.auth,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return{isLoading:!1};case f:return Object(c.a)({},e.data,{isLoading:!1});default:return t}},sidebar:V.reducer,modals:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.lists;var t,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:return t={},Object(J.a)(t,e.payload.modalName,!0),Object(J.a)(t,"data",e.payload.data),t;default:return{}}},lists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.lists,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case y:case g:case k:return L(e.data);case v:return I(t,e.data);case b:return Object(c.a)({},t,{keyOrder:e.data});default:return t}},socket:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.socket,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case h:return e.data;default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.tasks,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case w:case E:return D(e.data);case O:return M(t,e.data);case j:return _(t,e.data);case S:return U(t,e.data);case C:return P(t,e.data);case T:return H(t,e.taskId,e.subtaskOrder);case A:return R(t,e);default:return t}},visibility:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.visibility,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case N:return e.visibility;default:return t}},apiStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.apiStatus;switch((arguments.length>1?arguments[1]:void 0).type){case p:return{isLoading:!0};case l:return{isLoading:!1};default:return t}}}),F=n(90),K=n(6),W=(n(114),n(7)),z=n(8),G=n(10),Z=n(9),q=n(11),Y=n(25),Q=n(3),X=n.n(Q),$=n(4),tt=function(){return fetch("/auth/currentUserAndList").then(function(t){if(t&&t.ok)return t.json();throw new Error("Could not retrieve user.")})},et=n(91),nt=n.n(et),at=function(){return r.a.createElement("div",{className:"loading--div-container"},r.a.createElement("img",{className:"loading--img-loading",src:nt.a,alt:"Loading..."}))},rt=n(44),st=n.n(rt),ot=function(){return r.a.createElement("div",{className:"login--div-full"},r.a.createElement("div",{className:"login--div-container"},r.a.createElement("img",{className:"login--img-logo",src:st.a,alt:"Beans"}),r.a.createElement("span",{className:"login--span-title"},"Azuki"),r.a.createElement("span",{className:"login--span-intro"},"Login With"),r.a.createElement("a",{className:"login--a-provider",href:"/auth/google"},r.a.createElement("i",{className:"fab fa-google"})," ",r.a.createElement("span",{style:{color:"#4285F4"}},"G"),r.a.createElement("span",{style:{color:"#DB4437"}},"o"),r.a.createElement("span",{style:{color:"#F4B400"}},"o"),r.a.createElement("span",{style:{color:"#4285F4"}},"g"),r.a.createElement("span",{style:{color:"#0F9D58"}},"l"),r.a.createElement("span",{style:{color:"#DB4437"}},"e"))))},it=function(t){return r.a.createElement("div",{className:""},"NOTFOUND")},ct=(n(117),n(12)),ut=function(t){function e(){var t,n;Object(W.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(G.a)(this,(t=Object(Z.a)(e)).call.apply(t,[this].concat(r)))).toggleMenu=function(){n.props.dispatch(Object(V.action)(!n.props.sidebar.isOpen))},n}return Object(q.a)(e,t),Object(z.a)(e,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return r.a.createElement("div",{className:"header--div-container"},r.a.createElement("div",{className:"header--div-left"},r.a.createElement("i",{className:"header--i-burger fa fa-bars",onClick:this.toggleMenu})),r.a.createElement("div",{className:"header--div-mid"},r.a.createElement(o.b,{to:"/"},r.a.createElement("h1",{className:"header--h1-title"},"A Z U K I"))),r.a.createElement("div",{className:"header--div-right"},r.a.createElement("img",{className:"header--img-profile",src:this.props.auth.img,alt:"profile"}),r.a.createElement("div",{className:"header--profile-name"}," ",this.props.auth.name.split(" ")[0]," "),r.a.createElement("a",{href:"/auth/logout"},"Logout")))}}]),e}(a.Component),pt=Object(K.connect)(function(t){return{dispatch:t.dispatch,auth:t.auth,sidebar:t.sidebar}})(ut),lt=n(93),dt=function(t){return r.a.createElement("div",{className:"sidebar--div-addListContainer"},r.a.createElement("button",{onClick:function(){return t.toggleModal()}},"Add New List"))},ft=n(18),ht=function(t){return r.a.createElement("div",{className:t.location===t.item.id?"list--div-container-selected":"list--div-container"},r.a.createElement(o.b,{to:"/list/".concat(t.item.id)},r.a.createElement("span",{className:"list--span-name"},t.item.name)),r.a.createElement("div",{className:"list--div-buttonContainer"},r.a.createElement("button",{className:"fas fa-edit",onClick:function(){return t.onEdit()}}),r.a.createElement("button",{className:"fas fa-trash",onClick:function(){return t.onDelete()}})))},mt=function(t,e){return function(){var n=Object($.a)(X.a.mark(function n(a){return X.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a({type:m,payload:{modalName:t,data:e}});case 1:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()},bt=function(){return function(){var t=Object($.a)(X.a.mark(function t(e){return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"CLOSE_MODAL"});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},kt=function(t){return fetch("/api/list/createList",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:t})}).then(function(t){if(t.ok)return t.json()})},vt=function(t,e){return fetch("/api/list/reorderList",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){t.ok&&e&&e.emit("updating","list")})},yt=function(t){return fetch("/api/list/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:t})}).then(function(t){return t.ok?t.json():void 0})},gt=function(t,e){return fetch("/api/list/updateListFields",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:t,name:e})}).then(function(t){return t.ok?t.json():void 0})},Et=function(t){return function(){var e=Object($.a)(X.a.mark(function e(n){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n({type:N,visibility:t});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Ot=n(102),jt=function(t,e,n){var a=t.splice(e,1),r=Object(Ot.a)(a,1)[0];return t.splice(n,0,r),t},wt=n(23),St=n.n(wt),Ct=function(t){function e(){var t,n;Object(W.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(G.a)(this,(t=Object(Z.a)(e)).call.apply(t,[this].concat(r)))).state={location:null},n.updateListsOrder=function(t){if(t.destination){var e=jt(n.props.lists.keyOrder,t.source.index,t.destination.index);n.props.reorderList(e),n._reorderList(e)}},n._reorderList=St()(function(t){vt(t,n.props.socket)},2e3),n.deleteList=function(t){n.props.openModal("deleteListModal",t)},n.editList=function(t){n.props.openModal("editListModal",t)},n}return Object(q.a)(e,t),Object(z.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.socket&&this.props.socket.on("list",function(){return t.props.getList()})}},{key:"componentWillUnmount",value:function(){this.props.socket&&this.props.socket.off("list")}},{key:"componentDidUpdate",value:function(){var t=window.location.href.split("/").pop();this.state.location!==t&&this.setState({location:t})}},{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement(ft.a,{onDragEnd:this.updateListsOrder},r.a.createElement(ft.c,{droppableId:"droppableList"},function(e){return r.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"Droppable--div-listContainer"}),t.props.lists.keyOrder.map(function(e,n){return r.a.createElement(ft.b,{key:e,index:n,draggableId:e},function(n){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps),r.a.createElement(ht,{location:t.state.location,item:t.props.lists.keyHash[e],onDelete:function(){return t.deleteList(t.props.lists.keyHash[e])},onEdit:function(){return t.editList(t.props.lists.keyHash[e])}}))})}),e.placeholder)})))}}]),e}(a.Component),Tt={openModal:mt,reorderList:function(t){return function(){var e=Object($.a)(X.a.mark(function e(n){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n({type:b,data:t});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},getList:function(){return function(){var t=Object($.a)(X.a.mark(function t(e){return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",tt().then(function(t){t&&e({type:k,data:t.list})}).catch(function(t){console.log(t)}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},updateVisibility:Et},At=Object(K.connect)(function(t){return{lists:t.lists,socket:t.socket,sidebar:t.sidebar}},Tt)(Ct),Nt=function(t){function e(){var t,n;Object(W.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(G.a)(this,(t=Object(Z.a)(e)).call.apply(t,[this].concat(r)))).toggleAddModal=function(){n.props.openModal("addModal")},n}return Object(q.a)(e,t),Object(z.a)(e,[{key:"shouldComponentUpdate",value:function(t){return t.sidebar.isOpen!==this.props.sidebar.isOpen}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(lt.slide,{noOverlay:!0,isOpen:this.props.sidebar.isOpen,width:"300px",disableAutoFocus:!0,customCrossIcon:!1,customBurgerIcon:!1},r.a.createElement(dt,{toggleModal:this.toggleAddModal}),r.a.createElement(At,null)))}}]),e}(a.Component),xt={openModal:mt},Lt=Object(K.connect)(function(t){return{sidebar:t.sidebar}},xt)(Nt),It=n(24),Dt=n.n(It),Mt={overlay:{zIndex:"2000"},content:{top:"30%",bottom:"auto",left:"30%",right:"30%",borderRadius:"20px"}},_t={content:{border:"0",borderRadius:"4px",bottom:"auto",minHeight:"10rem",left:"50%",padding:"2rem",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)",minWidth:"20rem",width:"80%",maxWidth:"60rem"}},Ut=function(t){function e(){var t,n;Object(W.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(G.a)(this,(t=Object(Z.a)(e)).call.apply(t,[this].concat(r)))).onSubmit=function(){var t=Object($.a)(X.a.mark(function t(e){var a;return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!(void 0===(a=n.refs.addListInput.value)||null===a||0===a.length||a.length>16)&&a.match(/[a-zA-Z0-9]/g)){t.next=4;break}return t.abrupt("return",ct.b.error("Must be 1-16 character long."));case 4:return t.next=6,n.props.addNewList(a,n.props.socket);case 6:ct.b.success("".concat(a," has been added.")),n.props.closeModal();case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(q.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement(Dt.a,{isOpen:this.props.isOpen,onRequestClose:this.props.closeModal,shouldCloseOnOverlayClick:!0,style:window.screen.width>700?Mt:Object(c.a)({},Mt,{content:_t})},console.log(window.screen),r.a.createElement("form",{className:"AddListModal--div-container",onSubmit:function(e){return t.onSubmit(e)}},r.a.createElement("h1",null,"Enter the title of the new list:"),r.a.createElement("input",{type:"text",ref:"addListInput",autoFocus:!0}),r.a.createElement("div",{className:"AddListModal--div-buttonContainer"},r.a.createElement("button",{type:"button",onClick:function(){return t.props.closeModal()}},"Cancel"),r.a.createElement("button",{type:"submit"},"Save"))))}}]),e}(a.PureComponent),Pt={closeModal:bt,addNewList:function(t,e){return function(){var n=Object($.a)(X.a.mark(function n(a){return X.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",kt(t).then(function(t){t&&(a({type:v,data:t}),e&&e.emit("updating","list"))}).catch(function(t){console.log(t)}));case 1:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()}},Ht=Object(K.connect)(function(t){return{socket:t.socket}},Pt)(Ut),Rt={overlay:{zIndex:"2000"},content:{top:"43%",bottom:"auto",left:"30%",right:"30%",borderRadius:"20px"}},Jt={content:{border:"0",borderRadius:"4px",bottom:"auto",minHeight:"10rem",left:"50%",padding:"2rem",right:"auto",top:"50%",transform:"translate(-50%,-50%)",minWidth:"20rem",width:"80%",maxWidth:"60rem"}},Vt=function(t){function e(){var t,n;Object(W.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(G.a)(this,(t=Object(Z.a)(e)).call.apply(t,[this].concat(r)))).onDelete=function(t){ct.b.info("".concat(t," has been deleted")),n.props.onDelete(),n.props.closeModal()},n}return Object(q.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement(Dt.a,{isOpen:this.props.isOpen,onRequestClose:this.props.closeModal,shouldCloseOnOverlayClick:!0,style:window.screen.width>700?Rt:Object(c.a)({},Rt,{content:Jt})},r.a.createElement("div",{className:"deleteItem--div-container"},r.a.createElement("h1",null,"Are you sure you want to delete"),r.a.createElement("strong",null,this.props.data,"?"),r.a.createElement("div",{className:"deleteItem--div-button-container"},r.a.createElement("button",{onClick:function(){return t.onDelete(t.props.data)}},"Delete"),r.a.createElement("button",{onClick:this.props.closeModal},"Cancel"))))}}]),e}(a.PureComponent),Bt={closeModal:bt},Ft=Object(K.connect)(null,Bt)(Vt),Kt={overlay:{zIndex:"2000"},content:{top:"30%",bottom:"auto",left:"30%",right:"30%",borderRadius:"20px"}},Wt={content:{border:"0",borderRadius:"4px",top:"50%",bottom:"auto",minHeight:"10rem",left:"50%",padding:"2rem",position:"fixed",right:"auto",transform:"translate(-50%,-50%)",minWidth:"20rem",width:"80%",maxWidth:"60rem"}},zt=function(t){function e(){var t,n;Object(W.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(G.a)(this,(t=Object(Z.a)(e)).call.apply(t,[this].concat(r)))).onSubmit=function(){var t=Object($.a)(X.a.mark(function t(e){var a;return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),a=n.refs.editListInput.value,n.props.data!==a){t.next=4;break}return t.abrupt("return",n.props.closeModal());case 4:if(!(void 0===a||null===a||0===a.length||a.length>16)){t.next=6;break}return t.abrupt("return",ct.b.error("Must be 1-16 character long."));case 6:return t.next=8,n.props.onEdit(a);case 8:ct.b.success("".concat(n.props.data," has been renamed to ").concat(a,".")),n.props.closeModal();case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(q.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement(Dt.a,{isOpen:this.props.isOpen,onRequestClose:this.props.closeModal,shouldCloseOnOverlayClick:!0,style:window.screen.width>700?Kt:Object(c.a)({},Kt,{content:Wt})},r.a.createElement("form",{className:"AddListModal--div-container",onSubmit:function(e){return t.onSubmit(e)}},r.a.createElement("h1",null,"Rename ",r.a.createElement("strong",null,this.props.data)," to?"),r.a.createElement("input",{type:"text",ref:"editListInput",autoFocus:!0,defaultValue:this.props.data}),r.a.createElement("div",{className:"AddListModal--div-buttonContainer"},r.a.createElement("button",{type:"submit"},"Save"),r.a.createElement("button",{type:"button",onClick:function(){return t.props.closeModal()}},"Cancel"))))}}]),e}(a.PureComponent),Gt={closeModal:bt},Zt=Object(K.connect)(null,Gt)(zt),qt=function(t){function e(){var t,n;Object(W.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(G.a)(this,(t=Object(Z.a)(e)).call.apply(t,[this].concat(r)))).closeModal=function(){n.props.closeModal()},n}return Object(q.a)(e,t),Object(z.a)(e,[{key:"shouldComponentUpdate",value:function(t){return Object.keys(t.modals).length!==Object.keys(this.props.modals).length}},{key:"render",value:function(){var t=this;return this.props.modals.addModal?r.a.createElement(Ht,{isOpen:!0,closeModal:this.closeModal}):this.props.modals.deleteListModal?r.a.createElement(Ft,{isOpen:!0,closeModal:this.closeModal,data:this.props.modals.data.name,onDelete:function(){return t.props.deleteList(t.props.modals.data.id,t.props.socket)}}):this.props.modals.editListModal?r.a.createElement(Zt,{isOpen:!0,closeModal:this.closeModal,data:this.props.modals.data.name,onEdit:function(e){return t.props.updateList(t.props.modals.data.id,e,t.props.socket)}}):r.a.createElement(r.a.Fragment,null)}}]),e}(a.Component),Yt={closeModal:bt,deleteList:function(t,e){return function(){var n=Object($.a)(X.a.mark(function n(a){return X.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",yt(t).then(function(t){t&&(a({type:g,data:t}),e&&e.emit("updating","list"))}).catch(function(t){console.log(t)}));case 1:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()},updateList:function(t,e,n){return function(){var a=Object($.a)(X.a.mark(function a(r){return X.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",gt(t,e).then(function(t){t&&(r({type:y,data:t}),n&&n.emit("updating","list"))}).catch(function(t){console.log(t)}));case 1:case"end":return a.stop()}},a)}));return function(t){return a.apply(this,arguments)}}()}},Qt=Object(K.connect)(function(t){return{modals:t.modals,lists:t.lists,socket:t.socket}},Yt)(qt),Xt=function(t){return r.a.createElement("div",{className:"titlebar--div-container"},r.a.createElement("div",{className:"titlebar--div-buttongroup"},r.a.createElement("button",{type:"button",className:"active"===t.visibility?"titlebar--button-selected":"titlebar--button",onClick:function(){return t.onUpdate("active")}},"Active"),r.a.createElement("button",{type:"button",className:"completed"===t.visibility?"titlebar--button-selected":"titlebar--button",onClick:function(){return t.onUpdate("completed")}},"Completed")))},$t=function(t){return fetch("/api/tasks/".concat(t)).then(function(){var t=Object($.a)(X.a.mark(function t(e){return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.ok){t.next=4;break}return t.abrupt("return",e.json());case 4:throw new Error("An Error occured with the API");case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},te=function(t,e){return fetch("/api/tasks/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({listId:t,name:e})}).then(function(t){if(t.ok)return t.json();throw new Error("An Error occured with the API")})},ee=function(t,e){return fetch("/api/tasks/toggle",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({taskId:t,isCompleted:e})}).then(function(t){if(t.ok)return t.json();throw new Error("An Error occured with the API")})},ne=function(t,e){return fetch("/api/tasks/reorderTasks",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({tasks:t})}).then(function(t){return e&&e.emit("updating","tasks"),t.ok?t.json():void 0})},ae=function(t){return fetch("/api/tasks/single/".concat(t)).then(function(){var t=Object($.a)(X.a.mark(function t(e){return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.ok){t.next=4;break}return t.abrupt("return",e.json());case 4:throw new Error("An Error occured with the API");case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},re=function(t,e){return fetch("/api/tasks/updateTaskTitle",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:t,name:e})}).then(function(t){if(t.ok)return t.json();throw new Error("An Error occured with the API")})},se=function(t){return fetch("/api/tasks/",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:t})}).then(function(t){if(t.ok)return"Deleted"})},oe=n(99),ie=n.n(oe),ce=function(t){return"active"===t.visibility?r.a.createElement("div",{className:"TaskAdd--div-container"},r.a.createElement("form",{onSubmit:function(e){return t.onSubmit(e)}},r.a.createElement("input",{type:"text",ref:t.inputRef,placeholder:"Add a new task here",defaultValue:"",onChange:function(e){return t.onChange(e.target.value)}}))):r.a.createElement("div",{className:"TaskAdd--div-container-completed"},r.a.createElement("button",{onClick:function(){return t.onClear()}},"Clear Completed"))},ue=function(t,e){return fetch("/api/subtasks/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({taskId:t,name:e})}).then(function(t){if(t.ok)return t.json();throw new Error("An Error occured with the API")})},pe=function(t,e){return fetch("/api/subtasks/update",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:t,name:e})}).then(function(t){if(t.ok)return t.json();throw new Error("An Error occured with the API")})},le=function(t){return fetch("/api/subtasks/",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:t})}).then(function(t){if(t.ok)return t.json();throw new Error("An Error occured with the API")})},de=function(t,e){return fetch("/api/subtasks/reorder",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({subtaskArray:t})}).then(function(t){if(!t.ok)throw new Error("An Error occured with the API");e&&e.emit("updating","tasks")})},fe=function(t,e,n){return fetch("/api/subtasks/toggle",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:t,isCompleted:e})}).then(function(t){if(!t.ok)throw new Error("An Error occured with the API");n&&n.emit("updating","tasks")})},he=function(t){function e(){var t,n;Object(W.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(G.a)(this,(t=Object(Z.a)(e)).call.apply(t,[this].concat(r)))).state={classname:""},n.toggleSubtask=function(){n._toggleSubtask(),n.props.toggleSubtask(n.props.taskId,n.props.item.id,n.refs[n.props.item.id].checked),n.refs[n.props.item.id].checked?n.setState({className:"subtask--crossed"}):n.setState({className:""})},n._toggleSubtask=St()(function(){fe(n.props.item.id,n.refs[n.props.item.id].checked,n.props.socket)},300),n}return Object(q.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"subtask--div-draggable-container"},r.a.createElement("input",{type:"checkbox",defaultChecked:this.props.item.isCompleted,onChange:function(){return t.toggleSubtask()},ref:this.props.item.id}),r.a.createElement("span",{className:this.props.item.isCompleted?"subtask--crossed":""},this.props.item.name))}}]),e}(a.PureComponent),me={toggleSubtask:function(t,e,n){return function(){var a=Object($.a)(X.a.mark(function a(r){return X.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r({type:A,taskId:t,id:e,isCompleted:n});case 1:case"end":return a.stop()}},a)}));return function(t){return a.apply(this,arguments)}}()}},be=Object(K.connect)(function(t){return{socket:t.socket}},me)(he),ke=function(t){function e(){var t,n;Object(W.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(G.a)(this,(t=Object(Z.a)(e)).call.apply(t,[this].concat(r)))).updateSubtasksOrder=function(t){if(t.destination){var e=jt(n.props.tasks.keyHash[n.props.taskId].subtasks.keyOrder,t.source.index,t.destination.index);n.props.reorderSubtasks(n.props.taskId,e),n._updateSubtasksOrder(e)}},n._updateSubtasksOrder=St()(function(t){de(t,n.props.socket)},2e3),n}return Object(q.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"subtaskDroppable--div-container"},r.a.createElement(ft.a,{onDragEnd:this.updateSubtasksOrder},r.a.createElement(ft.c,{droppableId:this.props.taskId},function(e){return r.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"Droppable--div-subtasksContainer"}),t.props.tasks.keyHash[t.props.taskId].subtasks.keyOrder.map(function(e,n){return r.a.createElement(ft.b,{key:e,index:n,draggableId:e},function(a){return r.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps),r.a.createElement(be,{key:e,index:n,taskId:t.props.taskId,item:t.props.tasks.keyHash[t.props.taskId].subtasks.keyHash[e]}))})}),e.placeholder)})))}}]),e}(a.Component),ve={reorderSubtasks:function(t,e){return function(){var n=Object($.a)(X.a.mark(function n(a){return X.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a({type:T,taskId:t,subtaskOrder:e});case 1:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()}},ye=Object(K.connect)(function(t){return{tasks:t.tasks,socket:t.socket}},ve)(ke),ge=function(t){function e(){return Object(W.a)(this,e),Object(G.a)(this,Object(Z.a)(e).apply(this,arguments))}return Object(q.a)(e,t),Object(z.a)(e,[{key:"toggleTasks",value:function(){this.props.toggleTask(this.props.item.id,!this.props.item.isCompleted,this.props.socket)}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"Task--div-fullcontainer"},r.a.createElement("div",{className:"Task--div-container"},r.a.createElement("input",{type:"checkbox",checked:this.props.item.isCompleted,onChange:function(){return t.toggleTasks()},ref:this.props.item.id}),r.a.createElement("span",null,this.props.item.name),r.a.createElement(o.b,{to:"/task/edit/".concat(this.props.item.id),className:"fas fa-edit Task--div-editLink"})),r.a.createElement(ye,{taskId:this.props.item.id}))}}]),e}(a.Component),Ee={toggleTask:function(t,e,n){return function(){var a=Object($.a)(X.a.mark(function a(r){return X.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ee(t,e).then(function(t){t&&(r({type:j,data:t}),n&&n.emit("updating","tasks"))});case 2:case"end":return a.stop()}},a)}));return function(t){return a.apply(this,arguments)}}()}},Oe=Object(K.connect)(function(t){return{socket:t.socket}},Ee)(ge),je=function(t){function e(){var t,n;Object(W.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(G.a)(this,(t=Object(Z.a)(e)).call.apply(t,[this].concat(r)))).state={listId:"",inputValue:""},n.updateTasksOrder=function(t){if(t.destination){var e=jt(n.visibleTasks(),t.source.index,t.destination.index);n.props.reorderTasks(e,n.props.visibility),n._reorderTask(e)}},n._reorderTask=St()(function(t){ne(t,n.props.socket)},2e3),n.visibleTasks=function(){return"active"===n.props.visibility?n.props.tasks.activeTasks:n.props.tasks.completedTasks},n.addNewTask=function(t){t.preventDefault();var e=n.newTask.value;return""!==e&&void 0!==e&&null!==e&&e.match(/[a-zA-Z0-9]/g)?e.length>255?ct.b.warn("Sorry, please don't type in a paragraph. Max 255 characters."):(ct.b.success("".concat(e," has been added successfully.")),n.props.addTask(n.props.listId,e,n.props.socket),void(n.newTask.value="")):ct.b.warn("Nothing is entered. Please try again.")},n.clearCompletedTasks=function(){window.confirm("This will permanently clear all completed task in this list, are you sure?")&&n.props.clearCompletedTasks(n.props.listId,n.props.socket)},n}return Object(q.a)(e,t),Object(z.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.getTasks(this.props.listId),this.props.socket&&this.props.socket.on("tasks",function(){return t.props.getTasks(t.props.listId)})}},{key:"componentWillUnmount",value:function(){this.props.socket&&this.props.socket.off("tasks")}},{key:"shouldComponentUpdate",value:function(t,e){return!ie()(t.tasks,this.props.tasks)||this.props.visibility!==t.visibility||t.listId!==this.props.listId||e.inputValue!==this.state.inputValue}},{key:"componentDidUpdate",value:function(){this.state.listId!==this.props.listId&&(this.props.getTasks(this.props.listId),this.setState({listId:this.props.listId}))}},{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement(ft.a,{onDragEnd:this.updateTasksOrder},r.a.createElement(ft.c,{droppableId:"droppableTasks"},function(e){return r.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"Droppable--div-tasksContainer"}),r.a.createElement(ce,{onClear:function(){return t.clearCompletedTasks()},onSubmit:t.addNewTask,inputRef:function(e){return t.newTask=e},visibility:t.props.visibility,onChange:function(e){return t.setState({inputValue:e})}}),r.a.createElement(Y.a,{when:0!==t.state.inputValue.length,message:"Are you sure? You have not added the new task."}),t.visibleTasks().map(function(e,n){return r.a.createElement(ft.b,{key:e,index:n,draggableId:e},function(n){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps),r.a.createElement(Oe,{item:t.props.tasks.keyHash[e]}))})}),e.placeholder)})))}}]),e}(a.Component),we={getTasks:function(t){return function(){var e=Object($.a)(X.a.mark(function e(n){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t(t).then(function(t){t&&n({type:E,data:t})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},addTask:function(t,e,n){return function(){var a=Object($.a)(X.a.mark(function a(r){return X.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,te(t,e).then(function(t){t&&(r({type:O,data:t}),n&&n.emit("updating","tasks"))});case 2:case"end":return a.stop()}},a)}));return function(t){return a.apply(this,arguments)}}()},clearCompletedTasks:function(t,e){return function(){var n=Object($.a)(X.a.mark(function n(a){return X.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(r=t,fetch("/api/list/clearCompletedTasks",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({ListId:r})}).then(function(t){return t.ok?t.json():void 0})).then(function(t){t&&(a({type:w,data:t}),e&&e.emit("updating","tasks"))}));case 1:case"end":return n.stop()}var r},n)}));return function(t){return n.apply(this,arguments)}}()},reorderTasks:function(t,e){return function(){var n=Object($.a)(X.a.mark(function n(a){return X.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a("active"===e?{type:"UPDATE_ACTIVE_TASK_ORDER",data:t}:{type:"UPDATE_COMPLETED_TASK_ORDER",data:t});case 1:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()}},Se=Object(K.connect)(function(t){return{visibility:t.visibility,tasks:t.tasks,socket:t.socket}},we)(je),Ce=function(t){function e(){return Object(W.a)(this,e),Object(G.a)(this,Object(Z.a)(e).apply(this,arguments))}return Object(q.a)(e,t),Object(z.a)(e,[{key:"componentDidMount",value:function(){this.props.toggleMenu(!1)}},{key:"shouldComponentUpdate",value:function(t){return!t.lists.keyHash[t.match.params.id]||t.match.params.id!==this.props.match.params.id||t.visibility!==this.props.visibility}},{key:"componentDidUpdate",value:function(){this.props.toggleMenu(!1)}},{key:"render",value:function(){var t=this;return this.props.lists.keyHash[this.props.match.params.id]?r.a.createElement("div",{className:"task--div-full-container"},r.a.createElement(Xt,{name:this.props.lists.keyHash[this.props.match.params.id].name,visibility:this.props.visibility,onUpdate:function(e){return t.props.updateVisibility(e)}}),r.a.createElement(Se,{listId:this.props.match.params.id})):r.a.createElement(Y.b,{to:"/NotFound"})}}]),e}(a.Component),Te={updateVisibility:Et,toggleMenu:V.action},Ae=Object(K.connect)(function(t){return{visibility:t.visibility,lists:t.lists}},Te)(Ce),Ne=function(t){function e(){var t,n;Object(W.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(G.a)(this,(t=Object(Z.a)(e)).call.apply(t,[this].concat(r)))).updateSubtask=function(t){t.preventDefault();var e=n.refs[n.props.item.id].value;return 0!==e.length&&null!==e&&void 0!==e&&e.match(/[a-zA-Z0-9]/g)?e.length>255?ct.b.warn("Must be between 1-255 characters long."):(n.props.updateSubtask(n.props.item.id,e,n.props.socket),void ct.b.success("".concat(n.props.item.name,' has been renamed to "').concat(e,'".'))):ct.b.warn("Task title cannot be empty.")},n.deleteSubtask=function(){window.confirm('Delete "'.concat(n.props.item.name,'"?'))&&(n.props.deleteSubtask(n.props.item.id,n.props.item.TaskId,n.props.socket),ct.b.success("".concat(n.props.item.name," has been deleted.")))},n}return Object(q.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"Subtask--div-container"},r.a.createElement("form",{onSubmit:function(e){return t.updateSubtask(e)}},r.a.createElement("input",{type:"text",defaultValue:this.props.item.name,ref:this.props.item.id})),r.a.createElement("button",{onClick:function(){return t.deleteSubtask()},className:"fas fa-trash"}))}}]),e}(a.Component),xe={updateSubtask:function(t,e,n){return function(){var a=Object($.a)(X.a.mark(function a(r){return X.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",pe(t,e).then(function(t){t&&n&&n.emit("updating","tasks")}));case 1:case"end":return a.stop()}},a)}));return function(t){return a.apply(this,arguments)}}()},deleteSubtask:function(t,e,n){return function(){var a=Object($.a)(X.a.mark(function a(r){return X.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",le(t).then(function(a){a&&(r({type:C,data:{id:t,taskId:e}}),n&&n.emit("updating","tasks"))}));case 1:case"end":return a.stop()}},a)}));return function(t){return a.apply(this,arguments)}}()}},Le=Object(K.connect)(function(t){return{socket:t.socket}},xe)(Ne),Ie=function(t){function e(){var t,n;Object(W.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(G.a)(this,(t=Object(Z.a)(e)).call.apply(t,[this].concat(r)))).state={inputValue:""},n.updateTaskTitle=function(t){t.preventDefault();var e=n.refs.taskTitle.value;return 0!==e.length&&null!==e&&void 0!==e&&e.match(/[a-zA-Z0-9]/g)?e.length>255?ct.b.warn("Must be between 1-255 characters long."):(n.props.updateTaskTitle(n.props.match.params.id,e),void ct.b.success("Updated task title to ".concat(e))):ct.b.warn("Task title cannot be empty.")},n.addNewSubtask=function(t){t.preventDefault();var e=n.refs.addNewSubtask.value;0!==e.length&&null!==e&&void 0!==e&&e.match(/[a-zA-Z0-9]/g)&&(e.length>255&&ct.b.warn("Must be between 1-255 characters long."),n.props.addNewSubtask(n.props.match.params.id,e),ct.b.success("".concat(e," has been added successfully.")),n.refs.addNewSubtask.value="")},n.deleteTask=Object($.a)(X.a.mark(function t(){return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Deleting this task will also delete all its subtasks, are you sure?")){t.next=5;break}return t.next=4,n.props.deleteTask(n.props.match.params.id);case 4:n.props.history.push("/list/".concat(n.props.tasks.keyHash[n.props.match.params.id].ListId));case 5:case"end":return t.stop()}},t)})),n}return Object(q.a)(e,t),Object(z.a)(e,[{key:"componentDidMount",value:function(){var t=Object($.a)(X.a.mark(function t(){return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.props.beginApiCall(),this.props.tasks.keyHash[this.props.match.params.id]){t.next=4;break}return t.next=4,this.props.getTask(this.props.match.params.id);case 4:this.props.endApiCall();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;if(this.props.apiStatus.isLoading)return r.a.createElement("div",null,"Loading");var e=this.props.tasks.keyHash[this.props.match.params.id];return e?r.a.createElement("div",{className:"Edit--div-container"},r.a.createElement("div",{className:"Edit--div-top-level-edit"},r.a.createElement(o.b,{to:"/list/".concat(e.ListId)},r.a.createElement("i",{className:"fas fa-arrow-left"})," Back"),r.a.createElement("button",{onClick:function(){return t.deleteTask()}},"Delete ",r.a.createElement("i",{className:"fas fa-trash"}))),r.a.createElement(Y.a,{when:""!==this.state.inputValue,message:"Are you sure? You have not add the new subtask yet."}),r.a.createElement("form",{onSubmit:function(e){return t.updateTaskTitle(e)}},r.a.createElement("input",{className:"Edit--input-task",type:"text",defaultValue:e.name,ref:"taskTitle"})),r.a.createElement("form",{onSubmit:function(e){return t.addNewSubtask(e)}},r.a.createElement("input",{className:"Edit--input-subtask",type:"text",placeholder:"Add a subtask here",ref:"addNewSubtask",onChange:function(e){return t.setState({inputValue:e.target.value})}})),e.subtasks.keyOrder.map(function(t){return r.a.createElement(Le,{key:t,item:e.subtasks.keyHash[t]})})):r.a.createElement(Y.b,{to:"/NotFound"})}}]),e}(a.Component),De={beginApiCall:function(){return{type:p}},getTask:function(t){return function(){var e=Object($.a)(X.a.mark(function e(n){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t).then(function(t){t&&n({type:O,data:t})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},endApiCall:function(){return{type:l}},addNewSubtask:function(t,e,n){return function(){var a=Object($.a)(X.a.mark(function a(r){return X.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",ue(t,e).then(function(t){t&&(r({type:S,data:t}),n&&n.emit("updating","tasks"))}));case 1:case"end":return a.stop()}},a)}));return function(t){return a.apply(this,arguments)}}()},updateTaskTitle:function(t,e,n){return function(){var a=Object($.a)(X.a.mark(function a(r){return X.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",re(t,e).then(function(t){t&&n&&n.emit("updating","tasks")}));case 1:case"end":return a.stop()}},a)}));return function(t){return a.apply(this,arguments)}}()},deleteTask:function(t,e){return function(){var n=Object($.a)(X.a.mark(function n(a){return X.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",se(t).then(function(t){t&&e&&e.emit("updating","tasks")}));case 1:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()}},Me=Object(K.connect)(function(t){return{tasks:t.tasks,apiStatus:t.apiStatus}},De)(Ie),_e=function(){return r.a.createElement("div",{className:"Welcome--div-container"},r.a.createElement("h1",null,"Welcome to Azuki"),r.a.createElement("img",{src:st.a,alt:"Beans"}),r.a.createElement("p",null,"To begin, click on the menu on the top left corner."))},Ue=function(t){function e(){return Object(W.a)(this,e),Object(G.a)(this,Object(Z.a)(e).apply(this,arguments))}return Object(q.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){return r.a.createElement(Y.e,null,r.a.createElement(Y.c,{exact:!0,path:"/",component:_e}),r.a.createElement(Y.c,{path:"/list/:id",component:Ae}),r.a.createElement(Y.c,{path:"/task/edit/:id",render:function(t){return r.a.createElement(Me,Object.assign({key:t.match.params.id},t))}}),r.a.createElement(Y.c,{component:it}))}}]),e}(a.PureComponent);Dt.a.setAppElement("#root");var Pe,He=function(t){function e(){return Object(W.a)(this,e),Object(G.a)(this,Object(Z.a)(e).apply(this,arguments))}return Object(q.a)(e,t),Object(z.a)(e,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt,null),r.a.createElement(pt,null),r.a.createElement("div",{id:"outer-container"},r.a.createElement(Lt,null),r.a.createElement(Ue,null)),r.a.createElement(ct.a,{autoClose:2e3,hideProgressBar:!0}))}}]),e}(a.Component),Re=Object(K.connect)(function(t){return{auth:t.auth}},{})(He),Je=n(100),Ve=n.n(Je),Be=function(t){function e(){return Object(W.a)(this,e),Object(G.a)(this,Object(Z.a)(e).apply(this,arguments))}return Object(q.a)(e,t),Object(z.a)(e,[{key:"componentWillMount",value:function(){this.props.getUserAndLists()}},{key:"shouldComponentUpdate",value:function(t){return t.auth.isLoading!==this.props.auth.isLoading}},{key:"render",value:function(){return this.props.auth.isLoading?r.a.createElement(at,null):!this.props.auth.isLoading&&this.props.auth.id?(this.props.addSocketToApp(function(t){var e=Ve()();return e.on("connect",function(){return e.emit("join","".concat(t))}),e}(this.props.auth.id)),r.a.createElement(Re,null)):this.props.auth.isLoading||this.props.auth.id?void 0:r.a.createElement(Y.e,null,r.a.createElement(Y.c,{exact:!0,path:"/",component:ot}),r.a.createElement(Y.c,{component:it}))}}]),e}(a.Component),Fe={getUserAndLists:function(){return function(){var t=Object($.a)(X.a.mark(function t(e){return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",tt().then(function(t){t&&e({type:k,data:t.lists}),delete t.lists,e({type:f,data:t})}).catch(function(){e({type:d})}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},addSocketToApp:function(t){return function(){var e=Object($.a)(X.a.mark(function e(n){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n({type:h,data:t});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},Ke=Object(K.connect)(function(t){return{auth:t.auth}},Fe)(Be),We=Object(i.e)(B,Pe,Object(i.a)(F.a));Object(s.render)(r.a.createElement(K.Provider,{store:We},r.a.createElement(o.a,null,r.a.createElement(Ke,null))),document.getElementById("root"))},44:function(t,e,n){t.exports=n.p+"static/media/bean.2ff32ac4.png"},91:function(t,e,n){t.exports=n.p+"static/media/loading.ec9b161c.gif"}},[[103,1,2]]]);
//# sourceMappingURL=main.2b6c948a.chunk.js.map