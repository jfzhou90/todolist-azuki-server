(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),i=n(22),o=n(8),s={auth:{id:void 0},list:[],todos:[]},u="ADD_LIST_SUCCESS",l="GET_USER_SUCCESS",p="GET_LIST_SUCCESS",d="DELETE_LIST_SUCCESS",f="GET_TODOS_SUCCESS";var m=n(68);var h,b=n(33),v=Object(o.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.auth,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return t.data;default:return e}},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.list,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.data.sort(function(e,t){return e.order-t.order});case u:return[].concat(Object(m.a)(e),[t.data]);case d:return t.data;default:return e}},todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.todos,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.data;default:return e}},listMenu:b.reducer}),E=n(59),y=n(4),O=(n(82),n(9)),j=n(10),g=n(12),L=n(11),w=n(13),C=n(5),A=n.n(C),S=n(16),N=n(34),k=n.n(N),I=function(e){return r.a.createElement("div",{className:"login-body"},r.a.createElement("div",{className:"login-container "},r.a.createElement("img",{className:"login-logo",src:k.a,alt:"Beans"}),"Login With",r.a.createElement("a",{className:"login-button-link",href:"/auth/google"},"Google")))},_=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).openMenu=function(){n.props.dispatch(Object(b.action)(!n.props.listMenu.isOpen))},n}return Object(w.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header--div-container"},r.a.createElement("i",{className:"fa fa-bars",onClick:this.openMenu}),r.a.createElement("h1",{className:"header--h1-title"},r.a.createElement("img",{src:k.a,alt:"bean brand"})," A z u k i"),r.a.createElement("div",{className:"header--div-menu"},r.a.createElement("img",{className:"name",src:this.props.auth.img,alt:"profile"}),r.a.createElement("div",{className:"profile-name"},this.props.auth.name.split(" ")[0]),r.a.createElement("a",{href:"/auth/logout"},"Logout")))}}]),t}(a.Component),x=Object(y.connect)(function(e){return{dispatch:e.dispatch,auth:e.auth,listMenu:e.listMenu}})(_),T=n(19),P=n(60),R=n.n(P),D=n(61),U=n(37),M=n(70),B=n(69),G=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),c=Object(B.a)(r,1)[0];return a.splice(n,0,c),a.map(function(e,t){return Object(M.a)({},e,{order:t+1})})},J=function(e){return fetch("/api/list/reorderList",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.ok?e.json():void 0})},F=function(e){return fetch("/api/list/createList",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e})}).then(function(e){return e.ok?e.json():void 0})},W=function(e){return fetch("/api/list/".concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e})}).then(function(e){return e.ok?e.json():void 0})},z=function(e,t){return fetch("/api/list/updateListFields",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e,name:t})}).then(function(e){return e.ok?e.json():void 0})},Z=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(c)))).state={lists:n.props.list},n.myInput=r.a.createRef(),n.addNewList=function(){var e=Object(S.a)(A.a.mark(function e(t){var a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(t),!(void 0===n.myInput.current.value||""===n.myInput.current.value||n.myInput.current.value.length>=16)&&n.myInput.current.value.match(/[a-zA-Z0-9]/g)){e.next=4;break}return T.b.error("Error, unable to add new list, must be between 1 to 16 characters, please try again."),e.abrupt("return");case 4:return a=n.myInput.current.value,e.next=7,n.props.addNewList(a);case 7:n.myInput.current.value="",n.setState({lists:n.props.list}),T.b.success("New category '".concat(a,"' added successfully"));case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.editList=function(){var e=Object(S.a)(A.a.mark(function e(t){var a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(a=window.prompt("What is the new name of the list?"))||void 0===a||""===a||a.length>=16)&&a.match(/[a-zA-Z0-9]/g)){e.next=4;break}return T.b.error("Error, unable to edit list, must be between 1 to 16 characters, please try again."),e.abrupt("return");case 4:return e.next=6,n.props.updateList(t.id,a);case 6:n.setState({lists:n.props.list.map(function(e){return e.id===t.id?(e.name=a,e):e})}),T.b.success("List has been updated to '".concat(a,"'."));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.deleteList=function(e){if(window.confirm("Are you sure to delete '".concat(e.name,"?'"))){var t=n.state.lists.filter(function(t){return t.id!==e.id});T.b.info("Deleted '".concat(e.name,"' successfully")),n.setState({lists:t}),n.props.deleteList(e.id)}},n._reorderList=R()(function(e){J(e)},2e3),n.onDragEnd=function(){var e=Object(S.a)(A.a.mark(function e(t){var a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destination){e.next=2;break}return e.abrupt("return");case 2:return a=G(n.state.lists,t.source.index,t.destination.index),e.next=5,n._reorderList(a);case 5:n.setState({lists:a});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(w.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(D.slide,{noOverlay:!0,isOpen:this.props.listMenu.isOpen,disableAutoFocus:!0,customCrossIcon:!1,customBurgerIcon:!1,pageWrapId:"page-wrap",outerContainerId:"outer-container"},r.a.createElement("div",{className:"menu--div-container"},r.a.createElement("div",{className:"menu--div-addList"},r.a.createElement("form",{onSubmit:function(t){return e.addNewList(t)}},r.a.createElement("input",{type:"text",ref:this.myInput}),r.a.createElement("button",{className:"fas fa-folder-plus"}))),r.a.createElement(U.a,{onDragEnd:this.onDragEnd},r.a.createElement(U.c,{droppableId:"droppableList"},function(t,n){return r.a.createElement("div",Object.assign({},t.droppableProps,{ref:t.innerRef,className:"menu--div-listContainer"}),e.state.lists.map(function(t,n){return r.a.createElement(U.b,{key:t.id,draggableId:t.id,index:n},function(n,a){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{className:"menu--div-list"}),r.a.createElement("div",{className:"menu--div-list"},r.a.createElement(i.b,{to:"/list/".concat(t.id)},t.name),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("button",{className:"far fa-edit",onClick:function(){return e.editList(t)}}),r.a.createElement("button",{className:"fas fa-trash",onClick:function(){return e.deleteList(t)}}))))})}),t.placeholder)}))))}}]),t}(a.Component),H={addNewList:function(e){return function(){var t=Object(S.a)(A.a.mark(function t(n){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"BEGIN_API_CALL"}),t.abrupt("return",F(e).then(function(e){e&&n({type:u,data:e})}).catch(function(e){n({type:"API_CALL_ERROR"}),console.log(e)}));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},deleteList:function(e){return function(){var t=Object(S.a)(A.a.mark(function t(n){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"BEGIN_API_CALL"}),t.abrupt("return",W(e).then(function(e){e&&n({type:d,data:e})}).catch(function(e){n({type:"API_CALL_ERROR"}),console.log(e)}));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},updateList:function(e,t){return function(){var n=Object(S.a)(A.a.mark(function n(a){return A.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"BEGIN_API_CALL"}),n.abrupt("return",z(e,t).then(function(e){e&&a({type:"UPDATE_LIST_SUCCESS",data:e})}).catch(function(e){a({type:"API_CALL_ERROR"}),console.log(e)}));case 2:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}},q=Object(y.connect)(function(e){return{list:e.list,listMenu:e.listMenu}},H)(Z),K=n(20),Q=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={todos:n.props.todos,listId:n.props.match.params.id},n}return Object(w.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){console.log("mounted")}},{key:"shouldComponentUpdate",value:function(){return console.log("updated"),!0}},{key:"render",value:function(){return console.log(this.state.todos),r.a.createElement("div",{style:{textAlign:"center"}},this.props.match.params.id)}}]),t}(a.Component),V=Object(y.connect)(function(e){return{todos:e.todos}},{})(Q),X=function(){return r.a.createElement("div",{className:"not-found--div-container"},"404 NOT FOUND")},Y=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"page-wrap"},r.a.createElement(K.c,null,r.a.createElement(K.a,{path:"/list/:id",component:V}),r.a.createElement(K.a,{exact:!0,path:"/404",component:X})))}}]),t}(a.Component),$=Object(y.connect)(function(e){return{auth:e.auth}})(Y),ee=(n(141),function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,null),r.a.createElement("div",{id:"outer-container"},r.a.createElement(q,null),r.a.createElement($,null)),r.a.createElement(T.a,{autoClose:3e3,hideProgressBar:!0}))}}]),t}(a.Component)),te=Object(y.connect)(function(e){return{auth:e.auth}})(ee),ne=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(j.a)(t,[{key:"componentWillMount",value:function(){this.props.getUserAndLists()}},{key:"render",value:function(){return this.props.auth.id?r.a.createElement(te,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null))}}]),t}(a.Component),ae={getUserAndLists:function(){return function(){var e=Object(S.a)(A.a.mark(function e(t){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"BEGIN_API_CALL"}),e.abrupt("return",fetch("/auth/currentUserAndList").then(function(e){return e.ok?e.json():void 0}).then(function(e){e&&t({type:p,data:e.list}),delete e.list,t({type:l,data:e})}).catch(function(e){t({type:"API_CALL_ERROR"}),console.log(e)}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},re=Object(y.connect)(function(e){return{auth:e.auth}},ae)(ne),ce=Object(o.e)(v,h,Object(o.a)(E.a));Object(c.render)(r.a.createElement(y.Provider,{store:ce},r.a.createElement(i.a,null,r.a.createElement(re,null))),document.getElementById("root"))},34:function(e,t,n){e.exports=n.p+"static/media/bean.2ff32ac4.png"},71:function(e,t,n){e.exports=n(142)},82:function(e,t,n){}},[[71,1,2]]]);
//# sourceMappingURL=main.40f2ded7.chunk.js.map